{
  "version": 4,
  "terraform_version": "1.13.5",
  "serial": 321,
  "lineage": "088ee3a1-296b-8e0e-0036-c38e3f3b2e69",
  "outputs": {
    "app_get_pods_command": {
      "value": "kubectl get pods -n application",
      "type": "string"
    },
    "app_helm_status_command": {
      "value": "helm status echo-server -n application",
      "type": "string"
    },
    "app_ingress_hosts": {
      "value": [],
      "type": [
        "tuple",
        []
      ]
    },
    "app_logs_command": {
      "value": "kubectl logs -n application -l app.kubernetes.io/name=echo-server -f",
      "type": "string"
    },
    "app_namespace": {
      "value": "application",
      "type": "string"
    },
    "app_port_forward_command": {
      "value": "kubectl port-forward -n application svc/echo-server 8080:3000",
      "type": "string"
    },
    "app_release_name": {
      "value": "echo-server",
      "type": "string"
    },
    "app_release_status": {
      "value": "deployed",
      "type": "string"
    },
    "app_service_name": {
      "value": "echo-server",
      "type": "string"
    },
    "app_service_port": {
      "value": 3000,
      "type": "number"
    },
    "argocd_applications": {
      "value": [
        "echo-server",
        "postgres-ha"
      ],
      "type": [
        "list",
        "string"
      ]
    },
    "argocd_auto_prune_enabled": {
      "value": true,
      "type": "bool"
    },
    "argocd_get_admin_password_command": {
      "value": "kubectl -n argocd get secret argocd-initial-admin-secret -o jsonpath='{.data.password}' | base64 -d",
      "type": "string"
    },
    "argocd_get_apps_command": {
      "value": "argocd app list -n argocd",
      "type": "string"
    },
    "argocd_get_pods_command": {
      "value": "kubectl get pods -n argocd",
      "type": "string"
    },
    "argocd_namespace": {
      "value": "argocd",
      "type": "string"
    },
    "argocd_port_forward_command": {
      "value": "kubectl port-forward -n argocd svc/argocd-server 8080:443",
      "type": "string"
    },
    "argocd_release_name": {
      "value": "argocd",
      "type": "string"
    },
    "argocd_release_status": {
      "value": "deployed",
      "type": "string"
    },
    "argocd_release_version": {
      "value": "5.51.6",
      "type": "string"
    },
    "argocd_self_heal_enabled": {
      "value": true,
      "type": "bool"
    },
    "argocd_sync_policy": {
      "value": "automated",
      "type": "string"
    },
    "argocd_ui_url": {
      "value": "https://localhost:8080",
      "type": "string"
    },
    "database_namespace": {
      "value": "database",
      "type": "string"
    },
    "dr_strategy": {
      "value": {
        "backup_type": "Continuous WAL archiving to S3",
        "ha_instances": 3,
        "pitr_enabled": true,
        "pod_disruption_budget": "Minimum 2 replicas available",
        "recovery_targets": "PITR up to 30d",
        "replication_mode": "Synchronous (remote_apply)",
        "volume_snapshots": true
      },
      "type": [
        "object",
        {
          "backup_type": "string",
          "ha_instances": "number",
          "pitr_enabled": "bool",
          "pod_disruption_budget": "string",
          "recovery_targets": "string",
          "replication_mode": "string",
          "volume_snapshots": "bool"
        }
      ]
    },
    "external_secrets_release_name": {
      "value": "external-secrets",
      "type": "string"
    },
    "external_secrets_release_status": {
      "value": "deployed",
      "type": "string"
    },
    "external_secrets_release_version": {
      "value": "0.9.9",
      "type": "string"
    },
    "git_repository_branch": {
      "value": "main",
      "type": "string"
    },
    "git_repository_path": {
      "value": "k8s",
      "type": "string"
    },
    "git_repository_url": {
      "value": "https://github.com/daucuong/devops-assessment.git",
      "type": "string"
    },
    "grafana_endpoint": {
      "value": "kubectl port-forward -n monitoring svc/prometheus-grafana 3000:80",
      "type": "string"
    },
    "grafana_jaeger_datasource_name": {
      "value": "Jaeger",
      "type": "string"
    },
    "grafana_password": {
      "value": "admin",
      "type": "string",
      "sensitive": true
    },
    "grafana_tempo_datasource_name": {
      "value": "Tempo",
      "type": "string"
    },
    "istio_namespace": {
      "value": "istio-system",
      "type": "string"
    },
    "istio_release_name": {
      "value": "istio",
      "type": "string"
    },
    "istio_release_status": {
      "value": "deployed",
      "type": "string"
    },
    "istio_release_version": {
      "value": "1.19.3",
      "type": "string"
    },
    "istio_service_account": {
      "value": "istiod",
      "type": "string"
    },
    "jaeger_collector_endpoint": {
      "value": "jaeger-collector.observability.svc:14250",
      "type": "string"
    },
    "jaeger_enabled": {
      "value": true,
      "type": "bool"
    },
    "jaeger_port_forward_command": {
      "value": "kubectl port-forward -n observability svc/jaeger-query 16686:16686",
      "type": "string"
    },
    "jaeger_query_endpoint": {
      "value": "http://jaeger-query.observability:16686",
      "type": "string"
    },
    "jaeger_release_name": {
      "value": "jaeger",
      "type": "string"
    },
    "jaeger_release_status": {
      "value": "deployed",
      "type": "string"
    },
    "kubectl_get_applications_command": {
      "value": "kubectl get applications -n argocd",
      "type": "string"
    },
    "monitoring_namespace": {
      "value": "monitoring",
      "type": "string"
    },
    "nginx_ingress_namespace": {
      "value": "ingress-nginx",
      "type": "string"
    },
    "nginx_ingress_release_name": {
      "value": "nginx-ingress",
      "type": "string"
    },
    "observability_namespace": {
      "value": "observability",
      "type": "string"
    },
    "otel_collector_enabled": {
      "value": true,
      "type": "bool"
    },
    "otel_collector_otlp_grpc_endpoint": {
      "value": "opentelemetry-collector.observability.svc:4317",
      "type": "string"
    },
    "otel_collector_otlp_http_endpoint": {
      "value": "http://opentelemetry-collector.observability.svc:4318",
      "type": "string"
    },
    "otel_collector_release_name": {
      "value": "opentelemetry-collector",
      "type": "string"
    },
    "postgres_cluster_name": {
      "value": "postgres-ha",
      "type": "string"
    },
    "postgres_instances": {
      "value": 3,
      "type": "number"
    },
    "postgres_rpo_minutes": {
      "value": 1,
      "type": "number"
    },
    "postgres_rto_minutes": {
      "value": 5,
      "type": "number"
    },
    "postgres_service_fqdn": {
      "value": "postgres.database.svc.cluster.local",
      "type": "string"
    },
    "prometheus_endpoint": {
      "value": "kubectl port-forward -n monitoring svc/prometheus-kube-prometheus-prometheus 9090:9090",
      "type": "string"
    },
    "prometheus_release_name": {
      "value": "prometheus",
      "type": "string"
    },
    "prometheus_release_status": {
      "value": "deployed",
      "type": "string"
    },
    "prometheus_release_version": {
      "value": "56.0.0",
      "type": "string"
    },
    "sampling_percentage": {
      "value": 10,
      "type": "number"
    },
    "security_namespace": {
      "value": "security",
      "type": "string"
    },
    "tempo_enabled": {
      "value": true,
      "type": "bool"
    },
    "tempo_otlp_grpc_endpoint": {
      "value": "http://tempo.observability:4317",
      "type": "string"
    },
    "tempo_port_forward_command": {
      "value": "kubectl port-forward -n observability svc/tempo 3100:3100",
      "type": "string"
    },
    "tempo_query_endpoint": {
      "value": "http://tempo.observability:3100",
      "type": "string"
    },
    "tempo_release_status": {
      "value": "deployed",
      "type": "string"
    }
  },
  "resources": [
    {
      "module": "module.application",
      "mode": "managed",
      "type": "helm_release",
      "name": "echo_server",
      "provider": "provider[\"registry.terraform.io/hashicorp/helm\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "atomic": false,
            "chart": "echo-server",
            "cleanup_on_fail": false,
            "create_namespace": false,
            "dependency_update": false,
            "description": null,
            "devel": null,
            "disable_crd_hooks": false,
            "disable_openapi_validation": false,
            "disable_webhooks": false,
            "force_update": false,
            "id": "echo-server",
            "keyring": null,
            "lint": false,
            "manifest": null,
            "max_history": 0,
            "metadata": [
              {
                "app_version": "0.6.0",
                "chart": "echo-server",
                "first_deployed": 1763612902,
                "last_deployed": 1763630782,
                "name": "echo-server",
                "namespace": "application",
                "notes": "",
                "revision": 6,
                "values": "{\"env\":[{\"name\":\"PORT\",\"value\":\"3000\"}],\"image\":{\"pullPolicy\":\"IfNotPresent\",\"repository\":\"ealen/echo-server\",\"tag\":\"latest\"},\"ingress\":{\"annotations\":{},\"enabled\":true,\"hosts\":[{\"host\":\"echo-server.local\",\"paths\":[\"/\"]}],\"ingressClassName\":\"nginx\",\"tls\":[]},\"replicaCount\":2,\"resources\":{\"limits\":{\"cpu\":\"500m\",\"memory\":\"512Mi\"},\"requests\":{\"cpu\":\"100m\",\"memory\":\"128Mi\"}},\"service\":{\"port\":3000,\"type\":\"ClusterIP\"}}",
                "version": "0.5.0"
              }
            ],
            "name": "echo-server",
            "namespace": "application",
            "pass_credentials": false,
            "postrender": [],
            "recreate_pods": false,
            "render_subchart_notes": true,
            "replace": false,
            "repository": "https://ealenn.github.io/charts",
            "repository_ca_file": null,
            "repository_cert_file": null,
            "repository_key_file": null,
            "repository_password": null,
            "repository_username": null,
            "reset_values": false,
            "reuse_values": false,
            "set": [
              {
                "name": "image.pullPolicy",
                "type": "",
                "value": "IfNotPresent"
              },
              {
                "name": "image.repository",
                "type": "",
                "value": "ealen/echo-server"
              },
              {
                "name": "image.tag",
                "type": "",
                "value": "latest"
              },
              {
                "name": "ingress.enabled",
                "type": "",
                "value": "true"
              },
              {
                "name": "ingress.ingressClassName",
                "type": "",
                "value": "nginx"
              },
              {
                "name": "replicaCount",
                "type": "",
                "value": "2"
              },
              {
                "name": "resources.limits.cpu",
                "type": "",
                "value": "500m"
              },
              {
                "name": "resources.limits.memory",
                "type": "",
                "value": "512Mi"
              },
              {
                "name": "resources.requests.cpu",
                "type": "",
                "value": "100m"
              },
              {
                "name": "resources.requests.memory",
                "type": "",
                "value": "128Mi"
              },
              {
                "name": "service.port",
                "type": "",
                "value": "3000"
              },
              {
                "name": "service.type",
                "type": "",
                "value": "ClusterIP"
              }
            ],
            "set_list": [],
            "set_sensitive": [],
            "skip_crds": false,
            "status": "deployed",
            "timeout": 300,
            "upgrade_install": null,
            "values": [
              "\"env\":\n- \"name\": \"PORT\"\n  \"value\": \"3000\"\n\"ingress\":\n  \"annotations\": {}\n  \"hosts\":\n  - \"host\": \"echo-server.local\"\n    \"paths\":\n    - \"/\"\n  \"tls\": []\n"
            ],
            "verify": false,
            "version": "0.5.0",
            "wait": true,
            "wait_for_jobs": false
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "repository_password"
              }
            ]
          ],
          "identity_schema_version": 0,
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjEifQ==",
          "dependencies": [
            "module.application.kubernetes_namespace.app"
          ]
        }
      ]
    },
    {
      "module": "module.application",
      "mode": "managed",
      "type": "kubernetes_namespace",
      "name": "app",
      "provider": "provider[\"registry.terraform.io/hashicorp/kubernetes\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "id": "application",
            "metadata": [
              {
                "annotations": {},
                "generate_name": "",
                "generation": 0,
                "labels": {},
                "name": "application",
                "resource_version": "77841",
                "uid": "3904f760-bb2f-4678-8e30-7ace2550aa1f"
              }
            ],
            "timeouts": null,
            "wait_for_default_service_account": false
          },
          "sensitive_attributes": [],
          "identity_schema_version": 1,
          "identity": {
            "api_version": "v1",
            "kind": "Namespace",
            "name": "application"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiZGVsZXRlIjozMDAwMDAwMDAwMDB9fQ=="
        }
      ]
    },
    {
      "module": "module.cicd",
      "mode": "managed",
      "type": "helm_release",
      "name": "argocd",
      "provider": "provider[\"registry.terraform.io/hashicorp/helm\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 1,
          "attributes": {
            "atomic": false,
            "chart": "argo-cd",
            "cleanup_on_fail": false,
            "create_namespace": false,
            "dependency_update": false,
            "description": null,
            "devel": null,
            "disable_crd_hooks": false,
            "disable_openapi_validation": false,
            "disable_webhooks": false,
            "force_update": false,
            "id": "argocd",
            "keyring": null,
            "lint": false,
            "manifest": null,
            "max_history": 0,
            "metadata": [
              {
                "app_version": "v2.9.3",
                "chart": "argo-cd",
                "first_deployed": 1763631875,
                "last_deployed": 1763631875,
                "name": "argocd",
                "namespace": "argocd",
                "notes": "\n\nIn order to access the server UI you have the following options:\n\n1. kubectl port-forward service/argocd-server -n argocd 8080:443\n\n    and then open the browser on http://localhost:8080 and accept the certificate\n\n2. enable ingress in the values file `server.ingress.enabled` and either\n      - Add the annotation for ssl passthrough: https://argo-cd.readthedocs.io/en/stable/operator-manual/ingress/#option-1-ssl-passthrough\n      - Set the `configs.params.\"server.insecure\"` in the values file and terminate SSL at your ingress: https://argo-cd.readthedocs.io/en/stable/operator-manual/ingress/#option-2-multiple-ingress-objects-and-hosts\n\n\nAfter reaching the UI the first time you can login with username: admin and the random password generated during the installation. You can find the password by running:\n\nkubectl -n argocd get secret argocd-initial-admin-secret -o jsonpath=\"{.data.password}\" | base64 -d\n\n(You should delete the initial secret afterwards as suggested by the Getting Started Guide: https://argo-cd.readthedocs.io/en/stable/getting_started/#4-login-using-the-cli)\n",
                "revision": 1,
                "values": "{\"applicationSet\":{\"enabled\":true},\"configs\":{\"cm\":{\"application.resourceTrackingMethod\":\"annotation\",\"url\":\"https://argocd.local\"},\"params\":{\"application.instanceLabelKey\":\"argocd.argoproj.io/instance\"}},\"controller\":{\"replicas\":1},\"dex\":{\"enabled\":true},\"global\":{\"domain\":\"argocd.local\"},\"notifications\":{\"enabled\":true},\"redis\":{\"enabled\":true},\"server\":{\"service\":{\"type\":\"ClusterIP\"}}}",
                "version": "5.51.6"
              }
            ],
            "name": "argocd",
            "namespace": "argocd",
            "pass_credentials": false,
            "postrender": [],
            "recreate_pods": false,
            "render_subchart_notes": true,
            "replace": false,
            "repository": "https://argoproj.github.io/argo-helm",
            "repository_ca_file": null,
            "repository_cert_file": null,
            "repository_key_file": null,
            "repository_password": null,
            "repository_username": null,
            "reset_values": false,
            "reuse_values": false,
            "set": [],
            "set_list": [],
            "set_sensitive": [],
            "skip_crds": false,
            "status": "deployed",
            "timeout": 300,
            "upgrade_install": null,
            "values": [
              "\"applicationSet\":\n  \"enabled\": true\n\"configs\":\n  \"cm\":\n    \"application.resourceTrackingMethod\": \"annotation\"\n    \"url\": \"https://argocd.local\"\n  \"params\":\n    \"application.instanceLabelKey\": \"argocd.argoproj.io/instance\"\n\"controller\":\n  \"replicas\": 1\n\"dex\":\n  \"enabled\": true\n\"global\":\n  \"domain\": \"argocd.local\"\n\"notifications\":\n  \"enabled\": true\n\"redis\":\n  \"enabled\": true\n\"server\":\n  \"service\":\n    \"type\": \"ClusterIP\"\n"
            ],
            "verify": false,
            "version": "5.51.6",
            "wait": true,
            "wait_for_jobs": false
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "repository_password"
              }
            ]
          ],
          "identity_schema_version": 0,
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjEifQ==",
          "dependencies": [
            "module.cicd.kubernetes_namespace.argocd"
          ]
        }
      ]
    },
    {
      "module": "module.cicd",
      "mode": "managed",
      "type": "kubernetes_namespace",
      "name": "argocd",
      "provider": "provider[\"registry.terraform.io/hashicorp/kubernetes\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "id": "argocd",
            "metadata": [
              {
                "annotations": {},
                "generate_name": "",
                "generation": 0,
                "labels": {
                  "app.kubernetes.io/component": "cicd",
                  "app.kubernetes.io/name": "argocd"
                },
                "name": "argocd",
                "resource_version": "79265",
                "uid": "68ff194a-6fcd-4440-90d6-bb6d6a4d3e93"
              }
            ],
            "timeouts": null,
            "wait_for_default_service_account": false
          },
          "sensitive_attributes": [],
          "identity_schema_version": 1,
          "identity": {
            "api_version": "v1",
            "kind": "Namespace",
            "name": "argocd"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiZGVsZXRlIjozMDAwMDAwMDAwMDB9fQ=="
        }
      ]
    },
    {
      "module": "module.database",
      "mode": "managed",
      "type": "helm_release",
      "name": "cnpg_operator",
      "provider": "provider[\"registry.terraform.io/hashicorp/helm\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 1,
          "attributes": {
            "atomic": false,
            "chart": "cloudnative-pg",
            "cleanup_on_fail": false,
            "create_namespace": false,
            "dependency_update": false,
            "description": null,
            "devel": null,
            "disable_crd_hooks": false,
            "disable_openapi_validation": false,
            "disable_webhooks": false,
            "force_update": false,
            "id": "cloudnative-pg",
            "keyring": null,
            "lint": false,
            "manifest": null,
            "max_history": 0,
            "metadata": [
              {
                "app_version": "1.23.0",
                "chart": "cloudnative-pg",
                "first_deployed": 1763626566,
                "last_deployed": 1763626566,
                "name": "cloudnative-pg",
                "namespace": "database",
                "notes": "\nCloudNativePG operator should be installed in namespace \"database\".\nYou can now create a PostgreSQL cluster with 3 nodes in the current namespace as follows:\n\ncat \u003c\u003cEOF | kubectl apply -f -\n# Example of PostgreSQL cluster\napiVersion: postgresql.cnpg.io/v1\nkind: Cluster\nmetadata:\n  name: cluster-example\nspec:\n  instances: 3\n  storage:\n    size: 1Gi\nEOF\n\nkubectl get cluster\n\n",
                "revision": 1,
                "values": "{\"certManager\":{\"enabled\":true},\"monitoring\":{\"enabled\":true}}",
                "version": "0.21.0"
              }
            ],
            "name": "cloudnative-pg",
            "namespace": "database",
            "pass_credentials": false,
            "postrender": [],
            "recreate_pods": false,
            "render_subchart_notes": true,
            "replace": false,
            "repository": "https://cloudnative-pg.github.io/charts",
            "repository_ca_file": null,
            "repository_cert_file": null,
            "repository_key_file": null,
            "repository_password": null,
            "repository_username": null,
            "reset_values": false,
            "reuse_values": false,
            "set": [],
            "set_list": [],
            "set_sensitive": [],
            "skip_crds": false,
            "status": "deployed",
            "timeout": 600,
            "upgrade_install": null,
            "values": [
              "\"certManager\":\n  \"enabled\": true\n\"monitoring\":\n  \"enabled\": true\n"
            ],
            "verify": false,
            "version": "0.21.0",
            "wait": true,
            "wait_for_jobs": false
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "repository_password"
              }
            ]
          ],
          "identity_schema_version": 0,
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjEifQ==",
          "dependencies": [
            "module.database.kubernetes_namespace.database"
          ]
        }
      ]
    },
    {
      "module": "module.database",
      "mode": "managed",
      "type": "kubernetes_config_map",
      "name": "backup_scripts",
      "provider": "provider[\"registry.terraform.io/hashicorp/kubernetes\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "binary_data": {},
            "data": {
              "backup-policy.sh": "#!/bin/bash\n# PostgreSQL Backup Policy Script\n# This script defines the backup and recovery strategy\n\nset -e\n\n# Backup Configuration\nBACKUP_RETENTION_DAYS=30\nWAL_RETENTION_DAYS=30\nBACKUP_FREQUENCY=\"daily\"\nBACKUP_SCHEDULE=\"0 2 * * *\"  # 2 AM daily\n\n# Recovery Configuration\nRTO_MINUTES=5           # Recovery Time Objective\nRPO_MINUTES=1           # Recovery Point Objective\n\n# Enable continuous WAL archiving\nENABLE_WAL_ARCHIVING=true\nWAL_ARCHIVE_TIMEOUT=300 # 5 minutes\n\n# S3 Configuration\nS3_BUCKET=\"postgres-backups\"\nS3_REGION=\"us-east-1\"\nS3_STORAGE_CLASS=\"STANDARD_IA\"\n\n# Disaster Recovery Strategy\nDR_STRATEGY=\"\n=== PostgreSQL Disaster Recovery Strategy ===\n\n1. BACKUP STRATEGY:\n   - Type: Continuous WAL (Write-Ahead Log) archiving to S3\n   - Frequency: Continuous (streaming)\n   - Retention: ${BACKUP_RETENTION_DAYS} days\n   - Location: s3://${S3_BUCKET}/\n\n2. HIGH AVAILABILITY (HA):\n   - Cluster Topology: 3-node PostgreSQL cluster\n   - Primary: 1 node\n   - Replicas: 2 nodes\n   - Replication Mode: Synchronous (remote_apply)\n   - Failover: Automatic (\u003c 30 seconds)\n   - RPO: ${RPO_MINUTES} minute (zero data loss)\n   - RTO: ${RTO_MINUTES} minutes (automatic failover + reconnect)\n\n3. POINT-IN-TIME RECOVERY (PITR):\n   - Enabled: Yes\n   - Window: Up to ${BACKUP_RETENTION_DAYS} days\n   - Recovery Granularity: 1 second\n   - Method: WAL replay from S3\n\n4. DATA REDUNDANCY:\n   - Primary Instance: 1\n   - Hot Standby Replicas: 2\n   - Volume Snapshots: Enabled (additional protection)\n   - Data Protection: 3 copies minimum\n\n5. REPLICATION CONFIGURATION:\n   - Mode: Streaming replication with synchronous_commit=remote_apply\n   - Max WAL Senders: 10\n   - Replication Slots: High Availability enabled\n   - Hot Standby Feedback: Enabled\n   - Archive Mode: Enabled\n\n6. RECOVERY PROCEDURES:\n   \n   A) Replica Failure (Automatic):\n      - Cluster: Operational with 2 replicas\n      - Recovery: Automatic re-provisioning (~2 minutes)\n      - Impact: None (quorum maintained)\n      - RTO: 0 minutes (no failover needed)\n      - RPO: 0 minutes (no data loss)\n   \n   B) Primary Failure (Automatic):\n      - Action: Fastest replica promoted to primary\n      - Recovery: \u003c 30 seconds\n      - Impact: Brief connection reset, auto-reconnect\n      - RTO: \u003c 5 minutes (including application reconnection)\n      - RPO: 0 minutes (synchronous replication)\n   \n   C) Full Cluster Failure:\n      - Recovery Method: Restore from S3 backups + PITR\n      - Recovery: From latest backup + WAL replay\n      - Time: Depends on database size (typically 10-30 minutes)\n      - RTO: 30 minutes\n      - RPO: 1 minute (with continuous WAL archiving)\n   \n   D) Point-in-Time Recovery (PITR):\n      - Restore Database: From any point in backup window\n      - Method: Full backup + selective WAL replay\n      - Time: 15-30 minutes\n      - RTO: 30 minutes\n      - RPO: 1 second (specify exact recovery time)\n\n7. MONITORING \u0026 ALERTS:\n   - Metrics: WAL lag, replication lag, backup status\n   - Alerts: Replication lag \u003e 10s, backup failures\n   - Dashboards: Prometheus + Grafana\n   - Health Checks: Every 30 seconds\n\n8. TESTING:\n   - Backup Verification: Weekly\n   - DR Drills: Monthly\n   - RTO/RPO Validation: Quarterly\n\n9. S3 BACKUP STRUCTURE:\n   - Base Backups: s3://${S3_BUCKET}/backup/base/\n   - WAL Archives: s3://${S3_BUCKET}/backup/wal/\n   - Retention: ${BACKUP_RETENTION_DAYS} days\n   - Lifecycle Policy: Automatic cleanup\n\n10. SLA TARGETS:\n    - Availability: 99.99% (\u003c 52 minutes downtime/year)\n    - RTO: \u003c ${RTO_MINUTES} minutes\n    - RPO: \u003c ${RPO_MINUTES} minute\n    - Backup Success Rate: 99.9%\n\"\n\necho \"$DR_STRATEGY\"\n"
            },
            "id": "database/postgres-backup-scripts",
            "immutable": false,
            "metadata": [
              {
                "annotations": {},
                "generate_name": "",
                "generation": 0,
                "labels": {},
                "name": "postgres-backup-scripts",
                "namespace": "database",
                "resource_version": "59535",
                "uid": "41a7a7f2-2567-41f4-8949-fbf16ee0c431"
              }
            ]
          },
          "sensitive_attributes": [],
          "identity_schema_version": 1,
          "identity": {
            "api_version": "v1",
            "kind": "ConfigMap",
            "name": "postgres-backup-scripts",
            "namespace": "database"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "module.database.helm_release.cnpg_operator",
            "module.database.kubernetes_namespace.database"
          ]
        }
      ]
    },
    {
      "module": "module.database",
      "mode": "managed",
      "type": "kubernetes_manifest",
      "name": "postgres_cluster",
      "provider": "provider[\"registry.terraform.io/hashicorp/kubernetes\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 1,
          "attributes": {
            "computed_fields": null,
            "field_manager": [],
            "manifest": {
              "value": {
                "apiVersion": "postgresql.cnpg.io/v1",
                "kind": "Cluster",
                "metadata": {
                  "name": "postgres-ha",
                  "namespace": "database"
                },
                "spec": {
                  "backup": {
                    "retentionPolicy": "30d"
                  },
                  "bootstrap": {
                    "initdb": {
                      "database": "appdb",
                      "owner": "postgres",
                      "secret": {
                        "name": "postgres-credentials"
                      }
                    }
                  },
                  "imageName": "ghcr.io/cloudnative-pg/postgresql:16",
                  "instances": 3,
                  "primaryUpdateStrategy": "unsupervised",
                  "replicationSlots": {
                    "highAvailability": {
                      "enabled": true,
                      "slotPrefix": "postgres"
                    },
                    "updateInterval": 30
                  },
                  "resources": {
                    "limits": {
                      "cpu": "2",
                      "memory": "2Gi"
                    },
                    "requests": {
                      "cpu": "250m",
                      "memory": "512Mi"
                    }
                  },
                  "storage": {
                    "size": "10Gi",
                    "storageClass": "backup-storage"
                  }
                }
              },
              "type": [
                "object",
                {
                  "apiVersion": "string",
                  "kind": "string",
                  "metadata": [
                    "object",
                    {
                      "name": "string",
                      "namespace": "string"
                    }
                  ],
                  "spec": [
                    "object",
                    {
                      "backup": [
                        "object",
                        {
                          "retentionPolicy": "string"
                        }
                      ],
                      "bootstrap": [
                        "object",
                        {
                          "initdb": [
                            "object",
                            {
                              "database": "string",
                              "owner": "string",
                              "secret": [
                                "object",
                                {
                                  "name": "string"
                                }
                              ]
                            }
                          ]
                        }
                      ],
                      "imageName": "string",
                      "instances": "number",
                      "primaryUpdateStrategy": "string",
                      "replicationSlots": [
                        "object",
                        {
                          "highAvailability": [
                            "object",
                            {
                              "enabled": "bool",
                              "slotPrefix": "string"
                            }
                          ],
                          "updateInterval": "number"
                        }
                      ],
                      "resources": [
                        "object",
                        {
                          "limits": [
                            "object",
                            {
                              "cpu": "string",
                              "memory": "string"
                            }
                          ],
                          "requests": [
                            "object",
                            {
                              "cpu": "string",
                              "memory": "string"
                            }
                          ]
                        }
                      ],
                      "storage": [
                        "object",
                        {
                          "size": "string",
                          "storageClass": "string"
                        }
                      ]
                    }
                  ]
                }
              ]
            },
            "object": {
              "value": {
                "apiVersion": "postgresql.cnpg.io/v1",
                "kind": "Cluster",
                "metadata": {
                  "annotations": null,
                  "creationTimestamp": null,
                  "deletionGracePeriodSeconds": null,
                  "deletionTimestamp": null,
                  "finalizers": null,
                  "generateName": null,
                  "generation": null,
                  "labels": null,
                  "managedFields": null,
                  "name": "postgres-ha",
                  "namespace": "database",
                  "ownerReferences": null,
                  "resourceVersion": null,
                  "selfLink": null,
                  "uid": null
                },
                "spec": {
                  "affinity": {
                    "additionalPodAffinity": {
                      "preferredDuringSchedulingIgnoredDuringExecution": null,
                      "requiredDuringSchedulingIgnoredDuringExecution": null
                    },
                    "additionalPodAntiAffinity": {
                      "preferredDuringSchedulingIgnoredDuringExecution": null,
                      "requiredDuringSchedulingIgnoredDuringExecution": null
                    },
                    "enablePodAntiAffinity": null,
                    "nodeAffinity": {
                      "preferredDuringSchedulingIgnoredDuringExecution": null,
                      "requiredDuringSchedulingIgnoredDuringExecution": {
                        "nodeSelectorTerms": null
                      }
                    },
                    "nodeSelector": null,
                    "podAntiAffinityType": "preferred",
                    "tolerations": null,
                    "topologyKey": null
                  },
                  "backup": {
                    "barmanObjectStore": {
                      "azureCredentials": {
                        "connectionString": {
                          "key": null,
                          "name": null
                        },
                        "inheritFromAzureAD": null,
                        "storageAccount": {
                          "key": null,
                          "name": null
                        },
                        "storageKey": {
                          "key": null,
                          "name": null
                        },
                        "storageSasToken": {
                          "key": null,
                          "name": null
                        }
                      },
                      "data": {
                        "additionalCommandArgs": null,
                        "compression": null,
                        "encryption": null,
                        "immediateCheckpoint": null,
                        "jobs": null
                      },
                      "destinationPath": null,
                      "endpointCA": {
                        "key": null,
                        "name": null
                      },
                      "endpointURL": null,
                      "googleCredentials": {
                        "applicationCredentials": {
                          "key": null,
                          "name": null
                        },
                        "gkeEnvironment": null
                      },
                      "historyTags": null,
                      "s3Credentials": {
                        "accessKeyId": {
                          "key": null,
                          "name": null
                        },
                        "inheritFromIAMRole": null,
                        "region": {
                          "key": null,
                          "name": null
                        },
                        "secretAccessKey": {
                          "key": null,
                          "name": null
                        },
                        "sessionToken": {
                          "key": null,
                          "name": null
                        }
                      },
                      "serverName": null,
                      "tags": null,
                      "wal": {
                        "compression": null,
                        "encryption": null,
                        "maxParallel": null
                      }
                    },
                    "retentionPolicy": "30d",
                    "target": "prefer-standby",
                    "volumeSnapshot": {
                      "annotations": null,
                      "className": null,
                      "labels": null,
                      "online": null,
                      "onlineConfiguration": {
                        "immediateCheckpoint": null,
                        "waitForArchive": null
                      },
                      "snapshotOwnerReference": null,
                      "tablespaceClassName": null,
                      "walClassName": null
                    }
                  },
                  "bootstrap": {
                    "initdb": {
                      "dataChecksums": null,
                      "database": "appdb",
                      "encoding": "UTF8",
                      "import": {
                        "databases": null,
                        "postImportApplicationSQL": null,
                        "roles": null,
                        "schemaOnly": null,
                        "source": {
                          "externalCluster": null
                        },
                        "type": null
                      },
                      "localeCType": "C",
                      "localeCollate": "C",
                      "options": null,
                      "owner": "postgres",
                      "postInitApplicationSQL": null,
                      "postInitApplicationSQLRefs": {
                        "configMapRefs": null,
                        "secretRefs": null
                      },
                      "postInitSQL": null,
                      "postInitTemplateSQL": null,
                      "secret": {
                        "name": "postgres-credentials"
                      },
                      "walSegmentSize": null
                    },
                    "pg_basebackup": {
                      "database": null,
                      "owner": null,
                      "secret": {
                        "name": null
                      },
                      "source": null
                    },
                    "recovery": {
                      "backup": {
                        "endpointCA": {
                          "key": null,
                          "name": null
                        },
                        "name": null
                      },
                      "database": null,
                      "owner": null,
                      "recoveryTarget": {
                        "backupID": null,
                        "exclusive": null,
                        "targetImmediate": null,
                        "targetLSN": null,
                        "targetName": null,
                        "targetTLI": null,
                        "targetTime": null,
                        "targetXID": null
                      },
                      "secret": {
                        "name": null
                      },
                      "source": null,
                      "volumeSnapshots": {
                        "storage": {
                          "apiGroup": null,
                          "kind": null,
                          "name": null
                        },
                        "tablespaceStorage": null,
                        "walStorage": {
                          "apiGroup": null,
                          "kind": null,
                          "name": null
                        }
                      }
                    }
                  },
                  "certificates": {
                    "clientCASecret": null,
                    "replicationTLSSecret": null,
                    "serverAltDNSNames": null,
                    "serverCASecret": null,
                    "serverTLSSecret": null
                  },
                  "description": null,
                  "enablePDB": true,
                  "enableSuperuserAccess": false,
                  "env": null,
                  "envFrom": null,
                  "ephemeralVolumeSource": {
                    "volumeClaimTemplate": {
                      "metadata": null,
                      "spec": {
                        "accessModes": null,
                        "dataSource": {
                          "apiGroup": null,
                          "kind": null,
                          "name": null
                        },
                        "dataSourceRef": {
                          "apiGroup": null,
                          "kind": null,
                          "name": null,
                          "namespace": null
                        },
                        "resources": {
                          "limits": null,
                          "requests": null
                        },
                        "selector": {
                          "matchExpressions": null,
                          "matchLabels": null
                        },
                        "storageClassName": null,
                        "volumeAttributesClassName": null,
                        "volumeMode": null,
                        "volumeName": null
                      }
                    }
                  },
                  "ephemeralVolumesSizeLimit": {
                    "shm": null,
                    "temporaryData": null
                  },
                  "externalClusters": null,
                  "failoverDelay": 0,
                  "imageCatalogRef": {
                    "apiGroup": null,
                    "kind": null,
                    "major": null,
                    "name": null
                  },
                  "imageName": "ghcr.io/cloudnative-pg/postgresql:16",
                  "imagePullPolicy": null,
                  "imagePullSecrets": null,
                  "inheritedMetadata": {
                    "annotations": null,
                    "labels": null
                  },
                  "instances": 3,
                  "logLevel": "info",
                  "managed": {
                    "roles": null
                  },
                  "maxSyncReplicas": 0,
                  "minSyncReplicas": 0,
                  "monitoring": {
                    "customQueriesConfigMap": [
                      {
                        "key": "queries",
                        "name": "cnpg-default-monitoring"
                      }
                    ],
                    "customQueriesSecret": null,
                    "disableDefaultQueries": false,
                    "enablePodMonitor": false,
                    "podMonitorMetricRelabelings": null,
                    "podMonitorRelabelings": null
                  },
                  "nodeMaintenanceWindow": {
                    "inProgress": null,
                    "reusePVC": null
                  },
                  "plugins": null,
                  "postgresGID": 26,
                  "postgresUID": 26,
                  "postgresql": {
                    "enableAlterSystem": null,
                    "ldap": {
                      "bindAsAuth": {
                        "prefix": null,
                        "suffix": null
                      },
                      "bindSearchAuth": {
                        "baseDN": null,
                        "bindDN": null,
                        "bindPassword": {
                          "key": null,
                          "name": null,
                          "optional": null
                        },
                        "searchAttribute": null,
                        "searchFilter": null
                      },
                      "port": null,
                      "scheme": null,
                      "server": null,
                      "tls": null
                    },
                    "parameters": {
                      "archive_mode": "on",
                      "archive_timeout": "5min",
                      "dynamic_shared_memory_type": "posix",
                      "log_destination": "csvlog",
                      "log_directory": "/controller/log",
                      "log_filename": "postgres",
                      "log_rotation_age": "0",
                      "log_rotation_size": "0",
                      "log_truncate_on_rotation": "false",
                      "logging_collector": "on",
                      "max_parallel_workers": "32",
                      "max_replication_slots": "32",
                      "max_worker_processes": "32",
                      "shared_memory_type": "mmap",
                      "shared_preload_libraries": "",
                      "ssl_max_protocol_version": "TLSv1.3",
                      "ssl_min_protocol_version": "TLSv1.3",
                      "wal_keep_size": "512MB",
                      "wal_level": "logical",
                      "wal_log_hints": "on",
                      "wal_receiver_timeout": "5s",
                      "wal_sender_timeout": "5s"
                    },
                    "pg_hba": null,
                    "pg_ident": null,
                    "promotionTimeout": null,
                    "shared_preload_libraries": null,
                    "syncReplicaElectionConstraint": {
                      "enabled": false,
                      "nodeLabelsAntiAffinity": null
                    }
                  },
                  "primaryUpdateMethod": "restart",
                  "primaryUpdateStrategy": "unsupervised",
                  "priorityClassName": null,
                  "projectedVolumeTemplate": {
                    "defaultMode": null,
                    "sources": null
                  },
                  "replica": {
                    "enabled": null,
                    "source": null
                  },
                  "replicationSlots": {
                    "highAvailability": {
                      "enabled": true,
                      "slotPrefix": "postgres"
                    },
                    "synchronizeReplicas": {
                      "enabled": true,
                      "excludePatterns": null
                    },
                    "updateInterval": 30
                  },
                  "resources": {
                    "claims": null,
                    "limits": {
                      "cpu": "2",
                      "memory": "2Gi"
                    },
                    "requests": {
                      "cpu": "250m",
                      "memory": "512Mi"
                    }
                  },
                  "schedulerName": null,
                  "seccompProfile": {
                    "localhostProfile": null,
                    "type": null
                  },
                  "serviceAccountTemplate": {
                    "metadata": {
                      "annotations": null,
                      "labels": null
                    }
                  },
                  "smartShutdownTimeout": 180,
                  "startDelay": 3600,
                  "stopDelay": 1800,
                  "storage": {
                    "pvcTemplate": {
                      "accessModes": null,
                      "dataSource": {
                        "apiGroup": null,
                        "kind": null,
                        "name": null
                      },
                      "dataSourceRef": {
                        "apiGroup": null,
                        "kind": null,
                        "name": null,
                        "namespace": null
                      },
                      "resources": {
                        "limits": null,
                        "requests": null
                      },
                      "selector": {
                        "matchExpressions": null,
                        "matchLabels": null
                      },
                      "storageClassName": null,
                      "volumeAttributesClassName": null,
                      "volumeMode": null,
                      "volumeName": null
                    },
                    "resizeInUseVolumes": true,
                    "size": "10Gi",
                    "storageClass": "backup-storage"
                  },
                  "superuserSecret": {
                    "name": null
                  },
                  "switchoverDelay": 3600,
                  "tablespaces": null,
                  "topologySpreadConstraints": null,
                  "walStorage": {
                    "pvcTemplate": {
                      "accessModes": null,
                      "dataSource": {
                        "apiGroup": null,
                        "kind": null,
                        "name": null
                      },
                      "dataSourceRef": {
                        "apiGroup": null,
                        "kind": null,
                        "name": null,
                        "namespace": null
                      },
                      "resources": {
                        "limits": null,
                        "requests": null
                      },
                      "selector": {
                        "matchExpressions": null,
                        "matchLabels": null
                      },
                      "storageClassName": null,
                      "volumeAttributesClassName": null,
                      "volumeMode": null,
                      "volumeName": null
                    },
                    "resizeInUseVolumes": null,
                    "size": null,
                    "storageClass": null
                  }
                }
              },
              "type": [
                "object",
                {
                  "apiVersion": "string",
                  "kind": "string",
                  "metadata": [
                    "object",
                    {
                      "annotations": [
                        "map",
                        "string"
                      ],
                      "creationTimestamp": "string",
                      "deletionGracePeriodSeconds": "number",
                      "deletionTimestamp": "string",
                      "finalizers": [
                        "list",
                        "string"
                      ],
                      "generateName": "string",
                      "generation": "number",
                      "labels": [
                        "map",
                        "string"
                      ],
                      "managedFields": [
                        "tuple",
                        [
                          [
                            "object",
                            {
                              "apiVersion": "string",
                              "fieldsType": "string",
                              "fieldsV1": "dynamic",
                              "manager": "string",
                              "operation": "string",
                              "subresource": "string",
                              "time": "string"
                            }
                          ]
                        ]
                      ],
                      "name": "string",
                      "namespace": "string",
                      "ownerReferences": [
                        "list",
                        [
                          "object",
                          {
                            "apiVersion": "string",
                            "blockOwnerDeletion": "bool",
                            "controller": "bool",
                            "kind": "string",
                            "name": "string",
                            "uid": "string"
                          }
                        ]
                      ],
                      "resourceVersion": "string",
                      "selfLink": "string",
                      "uid": "string"
                    }
                  ],
                  "spec": [
                    "object",
                    {
                      "affinity": [
                        "object",
                        {
                          "additionalPodAffinity": [
                            "object",
                            {
                              "preferredDuringSchedulingIgnoredDuringExecution": [
                                "list",
                                [
                                  "object",
                                  {
                                    "podAffinityTerm": [
                                      "object",
                                      {
                                        "labelSelector": [
                                          "object",
                                          {
                                            "matchExpressions": [
                                              "list",
                                              [
                                                "object",
                                                {
                                                  "key": "string",
                                                  "operator": "string",
                                                  "values": [
                                                    "list",
                                                    "string"
                                                  ]
                                                }
                                              ]
                                            ],
                                            "matchLabels": [
                                              "map",
                                              "string"
                                            ]
                                          }
                                        ],
                                        "matchLabelKeys": [
                                          "list",
                                          "string"
                                        ],
                                        "mismatchLabelKeys": [
                                          "list",
                                          "string"
                                        ],
                                        "namespaceSelector": [
                                          "object",
                                          {
                                            "matchExpressions": [
                                              "list",
                                              [
                                                "object",
                                                {
                                                  "key": "string",
                                                  "operator": "string",
                                                  "values": [
                                                    "list",
                                                    "string"
                                                  ]
                                                }
                                              ]
                                            ],
                                            "matchLabels": [
                                              "map",
                                              "string"
                                            ]
                                          }
                                        ],
                                        "namespaces": [
                                          "list",
                                          "string"
                                        ],
                                        "topologyKey": "string"
                                      }
                                    ],
                                    "weight": "number"
                                  }
                                ]
                              ],
                              "requiredDuringSchedulingIgnoredDuringExecution": [
                                "list",
                                [
                                  "object",
                                  {
                                    "labelSelector": [
                                      "object",
                                      {
                                        "matchExpressions": [
                                          "list",
                                          [
                                            "object",
                                            {
                                              "key": "string",
                                              "operator": "string",
                                              "values": [
                                                "list",
                                                "string"
                                              ]
                                            }
                                          ]
                                        ],
                                        "matchLabels": [
                                          "map",
                                          "string"
                                        ]
                                      }
                                    ],
                                    "matchLabelKeys": [
                                      "list",
                                      "string"
                                    ],
                                    "mismatchLabelKeys": [
                                      "list",
                                      "string"
                                    ],
                                    "namespaceSelector": [
                                      "object",
                                      {
                                        "matchExpressions": [
                                          "list",
                                          [
                                            "object",
                                            {
                                              "key": "string",
                                              "operator": "string",
                                              "values": [
                                                "list",
                                                "string"
                                              ]
                                            }
                                          ]
                                        ],
                                        "matchLabels": [
                                          "map",
                                          "string"
                                        ]
                                      }
                                    ],
                                    "namespaces": [
                                      "list",
                                      "string"
                                    ],
                                    "topologyKey": "string"
                                  }
                                ]
                              ]
                            }
                          ],
                          "additionalPodAntiAffinity": [
                            "object",
                            {
                              "preferredDuringSchedulingIgnoredDuringExecution": [
                                "list",
                                [
                                  "object",
                                  {
                                    "podAffinityTerm": [
                                      "object",
                                      {
                                        "labelSelector": [
                                          "object",
                                          {
                                            "matchExpressions": [
                                              "list",
                                              [
                                                "object",
                                                {
                                                  "key": "string",
                                                  "operator": "string",
                                                  "values": [
                                                    "list",
                                                    "string"
                                                  ]
                                                }
                                              ]
                                            ],
                                            "matchLabels": [
                                              "map",
                                              "string"
                                            ]
                                          }
                                        ],
                                        "matchLabelKeys": [
                                          "list",
                                          "string"
                                        ],
                                        "mismatchLabelKeys": [
                                          "list",
                                          "string"
                                        ],
                                        "namespaceSelector": [
                                          "object",
                                          {
                                            "matchExpressions": [
                                              "list",
                                              [
                                                "object",
                                                {
                                                  "key": "string",
                                                  "operator": "string",
                                                  "values": [
                                                    "list",
                                                    "string"
                                                  ]
                                                }
                                              ]
                                            ],
                                            "matchLabels": [
                                              "map",
                                              "string"
                                            ]
                                          }
                                        ],
                                        "namespaces": [
                                          "list",
                                          "string"
                                        ],
                                        "topologyKey": "string"
                                      }
                                    ],
                                    "weight": "number"
                                  }
                                ]
                              ],
                              "requiredDuringSchedulingIgnoredDuringExecution": [
                                "list",
                                [
                                  "object",
                                  {
                                    "labelSelector": [
                                      "object",
                                      {
                                        "matchExpressions": [
                                          "list",
                                          [
                                            "object",
                                            {
                                              "key": "string",
                                              "operator": "string",
                                              "values": [
                                                "list",
                                                "string"
                                              ]
                                            }
                                          ]
                                        ],
                                        "matchLabels": [
                                          "map",
                                          "string"
                                        ]
                                      }
                                    ],
                                    "matchLabelKeys": [
                                      "list",
                                      "string"
                                    ],
                                    "mismatchLabelKeys": [
                                      "list",
                                      "string"
                                    ],
                                    "namespaceSelector": [
                                      "object",
                                      {
                                        "matchExpressions": [
                                          "list",
                                          [
                                            "object",
                                            {
                                              "key": "string",
                                              "operator": "string",
                                              "values": [
                                                "list",
                                                "string"
                                              ]
                                            }
                                          ]
                                        ],
                                        "matchLabels": [
                                          "map",
                                          "string"
                                        ]
                                      }
                                    ],
                                    "namespaces": [
                                      "list",
                                      "string"
                                    ],
                                    "topologyKey": "string"
                                  }
                                ]
                              ]
                            }
                          ],
                          "enablePodAntiAffinity": "bool",
                          "nodeAffinity": [
                            "object",
                            {
                              "preferredDuringSchedulingIgnoredDuringExecution": [
                                "list",
                                [
                                  "object",
                                  {
                                    "preference": [
                                      "object",
                                      {
                                        "matchExpressions": [
                                          "list",
                                          [
                                            "object",
                                            {
                                              "key": "string",
                                              "operator": "string",
                                              "values": [
                                                "list",
                                                "string"
                                              ]
                                            }
                                          ]
                                        ],
                                        "matchFields": [
                                          "list",
                                          [
                                            "object",
                                            {
                                              "key": "string",
                                              "operator": "string",
                                              "values": [
                                                "list",
                                                "string"
                                              ]
                                            }
                                          ]
                                        ]
                                      }
                                    ],
                                    "weight": "number"
                                  }
                                ]
                              ],
                              "requiredDuringSchedulingIgnoredDuringExecution": [
                                "object",
                                {
                                  "nodeSelectorTerms": [
                                    "list",
                                    [
                                      "object",
                                      {
                                        "matchExpressions": [
                                          "list",
                                          [
                                            "object",
                                            {
                                              "key": "string",
                                              "operator": "string",
                                              "values": [
                                                "list",
                                                "string"
                                              ]
                                            }
                                          ]
                                        ],
                                        "matchFields": [
                                          "list",
                                          [
                                            "object",
                                            {
                                              "key": "string",
                                              "operator": "string",
                                              "values": [
                                                "list",
                                                "string"
                                              ]
                                            }
                                          ]
                                        ]
                                      }
                                    ]
                                  ]
                                }
                              ]
                            }
                          ],
                          "nodeSelector": [
                            "map",
                            "string"
                          ],
                          "podAntiAffinityType": "string",
                          "tolerations": [
                            "list",
                            [
                              "object",
                              {
                                "effect": "string",
                                "key": "string",
                                "operator": "string",
                                "tolerationSeconds": "number",
                                "value": "string"
                              }
                            ]
                          ],
                          "topologyKey": "string"
                        }
                      ],
                      "backup": [
                        "object",
                        {
                          "barmanObjectStore": [
                            "object",
                            {
                              "azureCredentials": [
                                "object",
                                {
                                  "connectionString": [
                                    "object",
                                    {
                                      "key": "string",
                                      "name": "string"
                                    }
                                  ],
                                  "inheritFromAzureAD": "bool",
                                  "storageAccount": [
                                    "object",
                                    {
                                      "key": "string",
                                      "name": "string"
                                    }
                                  ],
                                  "storageKey": [
                                    "object",
                                    {
                                      "key": "string",
                                      "name": "string"
                                    }
                                  ],
                                  "storageSasToken": [
                                    "object",
                                    {
                                      "key": "string",
                                      "name": "string"
                                    }
                                  ]
                                }
                              ],
                              "data": [
                                "object",
                                {
                                  "additionalCommandArgs": [
                                    "list",
                                    "string"
                                  ],
                                  "compression": "string",
                                  "encryption": "string",
                                  "immediateCheckpoint": "bool",
                                  "jobs": "number"
                                }
                              ],
                              "destinationPath": "string",
                              "endpointCA": [
                                "object",
                                {
                                  "key": "string",
                                  "name": "string"
                                }
                              ],
                              "endpointURL": "string",
                              "googleCredentials": [
                                "object",
                                {
                                  "applicationCredentials": [
                                    "object",
                                    {
                                      "key": "string",
                                      "name": "string"
                                    }
                                  ],
                                  "gkeEnvironment": "bool"
                                }
                              ],
                              "historyTags": [
                                "map",
                                "string"
                              ],
                              "s3Credentials": [
                                "object",
                                {
                                  "accessKeyId": [
                                    "object",
                                    {
                                      "key": "string",
                                      "name": "string"
                                    }
                                  ],
                                  "inheritFromIAMRole": "bool",
                                  "region": [
                                    "object",
                                    {
                                      "key": "string",
                                      "name": "string"
                                    }
                                  ],
                                  "secretAccessKey": [
                                    "object",
                                    {
                                      "key": "string",
                                      "name": "string"
                                    }
                                  ],
                                  "sessionToken": [
                                    "object",
                                    {
                                      "key": "string",
                                      "name": "string"
                                    }
                                  ]
                                }
                              ],
                              "serverName": "string",
                              "tags": [
                                "map",
                                "string"
                              ],
                              "wal": [
                                "object",
                                {
                                  "compression": "string",
                                  "encryption": "string",
                                  "maxParallel": "number"
                                }
                              ]
                            }
                          ],
                          "retentionPolicy": "string",
                          "target": "string",
                          "volumeSnapshot": [
                            "object",
                            {
                              "annotations": [
                                "map",
                                "string"
                              ],
                              "className": "string",
                              "labels": [
                                "map",
                                "string"
                              ],
                              "online": "bool",
                              "onlineConfiguration": [
                                "object",
                                {
                                  "immediateCheckpoint": "bool",
                                  "waitForArchive": "bool"
                                }
                              ],
                              "snapshotOwnerReference": "string",
                              "tablespaceClassName": [
                                "map",
                                "string"
                              ],
                              "walClassName": "string"
                            }
                          ]
                        }
                      ],
                      "bootstrap": [
                        "object",
                        {
                          "initdb": [
                            "object",
                            {
                              "dataChecksums": "bool",
                              "database": "string",
                              "encoding": "string",
                              "import": [
                                "object",
                                {
                                  "databases": [
                                    "list",
                                    "string"
                                  ],
                                  "postImportApplicationSQL": [
                                    "list",
                                    "string"
                                  ],
                                  "roles": [
                                    "list",
                                    "string"
                                  ],
                                  "schemaOnly": "bool",
                                  "source": [
                                    "object",
                                    {
                                      "externalCluster": "string"
                                    }
                                  ],
                                  "type": "string"
                                }
                              ],
                              "localeCType": "string",
                              "localeCollate": "string",
                              "options": [
                                "list",
                                "string"
                              ],
                              "owner": "string",
                              "postInitApplicationSQL": [
                                "list",
                                "string"
                              ],
                              "postInitApplicationSQLRefs": [
                                "object",
                                {
                                  "configMapRefs": [
                                    "list",
                                    [
                                      "object",
                                      {
                                        "key": "string",
                                        "name": "string"
                                      }
                                    ]
                                  ],
                                  "secretRefs": [
                                    "list",
                                    [
                                      "object",
                                      {
                                        "key": "string",
                                        "name": "string"
                                      }
                                    ]
                                  ]
                                }
                              ],
                              "postInitSQL": [
                                "list",
                                "string"
                              ],
                              "postInitTemplateSQL": [
                                "list",
                                "string"
                              ],
                              "secret": [
                                "object",
                                {
                                  "name": "string"
                                }
                              ],
                              "walSegmentSize": "number"
                            }
                          ],
                          "pg_basebackup": [
                            "object",
                            {
                              "database": "string",
                              "owner": "string",
                              "secret": [
                                "object",
                                {
                                  "name": "string"
                                }
                              ],
                              "source": "string"
                            }
                          ],
                          "recovery": [
                            "object",
                            {
                              "backup": [
                                "object",
                                {
                                  "endpointCA": [
                                    "object",
                                    {
                                      "key": "string",
                                      "name": "string"
                                    }
                                  ],
                                  "name": "string"
                                }
                              ],
                              "database": "string",
                              "owner": "string",
                              "recoveryTarget": [
                                "object",
                                {
                                  "backupID": "string",
                                  "exclusive": "bool",
                                  "targetImmediate": "bool",
                                  "targetLSN": "string",
                                  "targetName": "string",
                                  "targetTLI": "string",
                                  "targetTime": "string",
                                  "targetXID": "string"
                                }
                              ],
                              "secret": [
                                "object",
                                {
                                  "name": "string"
                                }
                              ],
                              "source": "string",
                              "volumeSnapshots": [
                                "object",
                                {
                                  "storage": [
                                    "object",
                                    {
                                      "apiGroup": "string",
                                      "kind": "string",
                                      "name": "string"
                                    }
                                  ],
                                  "tablespaceStorage": [
                                    "map",
                                    [
                                      "object",
                                      {
                                        "apiGroup": "string",
                                        "kind": "string",
                                        "name": "string"
                                      }
                                    ]
                                  ],
                                  "walStorage": [
                                    "object",
                                    {
                                      "apiGroup": "string",
                                      "kind": "string",
                                      "name": "string"
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ],
                      "certificates": [
                        "object",
                        {
                          "clientCASecret": "string",
                          "replicationTLSSecret": "string",
                          "serverAltDNSNames": [
                            "list",
                            "string"
                          ],
                          "serverCASecret": "string",
                          "serverTLSSecret": "string"
                        }
                      ],
                      "description": "string",
                      "enablePDB": "bool",
                      "enableSuperuserAccess": "bool",
                      "env": [
                        "list",
                        [
                          "object",
                          {
                            "name": "string",
                            "value": "string",
                            "valueFrom": [
                              "object",
                              {
                                "configMapKeyRef": [
                                  "object",
                                  {
                                    "key": "string",
                                    "name": "string",
                                    "optional": "bool"
                                  }
                                ],
                                "fieldRef": [
                                  "object",
                                  {
                                    "apiVersion": "string",
                                    "fieldPath": "string"
                                  }
                                ],
                                "resourceFieldRef": [
                                  "object",
                                  {
                                    "containerName": "string",
                                    "divisor": "string",
                                    "resource": "string"
                                  }
                                ],
                                "secretKeyRef": [
                                  "object",
                                  {
                                    "key": "string",
                                    "name": "string",
                                    "optional": "bool"
                                  }
                                ]
                              }
                            ]
                          }
                        ]
                      ],
                      "envFrom": [
                        "list",
                        [
                          "object",
                          {
                            "configMapRef": [
                              "object",
                              {
                                "name": "string",
                                "optional": "bool"
                              }
                            ],
                            "prefix": "string",
                            "secretRef": [
                              "object",
                              {
                                "name": "string",
                                "optional": "bool"
                              }
                            ]
                          }
                        ]
                      ],
                      "ephemeralVolumeSource": [
                        "object",
                        {
                          "volumeClaimTemplate": [
                            "object",
                            {
                              "metadata": "dynamic",
                              "spec": [
                                "object",
                                {
                                  "accessModes": [
                                    "list",
                                    "string"
                                  ],
                                  "dataSource": [
                                    "object",
                                    {
                                      "apiGroup": "string",
                                      "kind": "string",
                                      "name": "string"
                                    }
                                  ],
                                  "dataSourceRef": [
                                    "object",
                                    {
                                      "apiGroup": "string",
                                      "kind": "string",
                                      "name": "string",
                                      "namespace": "string"
                                    }
                                  ],
                                  "resources": [
                                    "object",
                                    {
                                      "limits": [
                                        "map",
                                        "string"
                                      ],
                                      "requests": [
                                        "map",
                                        "string"
                                      ]
                                    }
                                  ],
                                  "selector": [
                                    "object",
                                    {
                                      "matchExpressions": [
                                        "list",
                                        [
                                          "object",
                                          {
                                            "key": "string",
                                            "operator": "string",
                                            "values": [
                                              "list",
                                              "string"
                                            ]
                                          }
                                        ]
                                      ],
                                      "matchLabels": [
                                        "map",
                                        "string"
                                      ]
                                    }
                                  ],
                                  "storageClassName": "string",
                                  "volumeAttributesClassName": "string",
                                  "volumeMode": "string",
                                  "volumeName": "string"
                                }
                              ]
                            }
                          ]
                        }
                      ],
                      "ephemeralVolumesSizeLimit": [
                        "object",
                        {
                          "shm": "string",
                          "temporaryData": "string"
                        }
                      ],
                      "externalClusters": [
                        "list",
                        [
                          "object",
                          {
                            "barmanObjectStore": [
                              "object",
                              {
                                "azureCredentials": [
                                  "object",
                                  {
                                    "connectionString": [
                                      "object",
                                      {
                                        "key": "string",
                                        "name": "string"
                                      }
                                    ],
                                    "inheritFromAzureAD": "bool",
                                    "storageAccount": [
                                      "object",
                                      {
                                        "key": "string",
                                        "name": "string"
                                      }
                                    ],
                                    "storageKey": [
                                      "object",
                                      {
                                        "key": "string",
                                        "name": "string"
                                      }
                                    ],
                                    "storageSasToken": [
                                      "object",
                                      {
                                        "key": "string",
                                        "name": "string"
                                      }
                                    ]
                                  }
                                ],
                                "data": [
                                  "object",
                                  {
                                    "additionalCommandArgs": [
                                      "list",
                                      "string"
                                    ],
                                    "compression": "string",
                                    "encryption": "string",
                                    "immediateCheckpoint": "bool",
                                    "jobs": "number"
                                  }
                                ],
                                "destinationPath": "string",
                                "endpointCA": [
                                  "object",
                                  {
                                    "key": "string",
                                    "name": "string"
                                  }
                                ],
                                "endpointURL": "string",
                                "googleCredentials": [
                                  "object",
                                  {
                                    "applicationCredentials": [
                                      "object",
                                      {
                                        "key": "string",
                                        "name": "string"
                                      }
                                    ],
                                    "gkeEnvironment": "bool"
                                  }
                                ],
                                "historyTags": [
                                  "map",
                                  "string"
                                ],
                                "s3Credentials": [
                                  "object",
                                  {
                                    "accessKeyId": [
                                      "object",
                                      {
                                        "key": "string",
                                        "name": "string"
                                      }
                                    ],
                                    "inheritFromIAMRole": "bool",
                                    "region": [
                                      "object",
                                      {
                                        "key": "string",
                                        "name": "string"
                                      }
                                    ],
                                    "secretAccessKey": [
                                      "object",
                                      {
                                        "key": "string",
                                        "name": "string"
                                      }
                                    ],
                                    "sessionToken": [
                                      "object",
                                      {
                                        "key": "string",
                                        "name": "string"
                                      }
                                    ]
                                  }
                                ],
                                "serverName": "string",
                                "tags": [
                                  "map",
                                  "string"
                                ],
                                "wal": [
                                  "object",
                                  {
                                    "compression": "string",
                                    "encryption": "string",
                                    "maxParallel": "number"
                                  }
                                ]
                              }
                            ],
                            "connectionParameters": [
                              "map",
                              "string"
                            ],
                            "name": "string",
                            "password": [
                              "object",
                              {
                                "key": "string",
                                "name": "string",
                                "optional": "bool"
                              }
                            ],
                            "sslCert": [
                              "object",
                              {
                                "key": "string",
                                "name": "string",
                                "optional": "bool"
                              }
                            ],
                            "sslKey": [
                              "object",
                              {
                                "key": "string",
                                "name": "string",
                                "optional": "bool"
                              }
                            ],
                            "sslRootCert": [
                              "object",
                              {
                                "key": "string",
                                "name": "string",
                                "optional": "bool"
                              }
                            ]
                          }
                        ]
                      ],
                      "failoverDelay": "number",
                      "imageCatalogRef": [
                        "object",
                        {
                          "apiGroup": "string",
                          "kind": "string",
                          "major": "number",
                          "name": "string"
                        }
                      ],
                      "imageName": "string",
                      "imagePullPolicy": "string",
                      "imagePullSecrets": [
                        "list",
                        [
                          "object",
                          {
                            "name": "string"
                          }
                        ]
                      ],
                      "inheritedMetadata": [
                        "object",
                        {
                          "annotations": [
                            "map",
                            "string"
                          ],
                          "labels": [
                            "map",
                            "string"
                          ]
                        }
                      ],
                      "instances": "number",
                      "logLevel": "string",
                      "managed": [
                        "object",
                        {
                          "roles": [
                            "list",
                            [
                              "object",
                              {
                                "bypassrls": "bool",
                                "comment": "string",
                                "connectionLimit": "number",
                                "createdb": "bool",
                                "createrole": "bool",
                                "disablePassword": "bool",
                                "ensure": "string",
                                "inRoles": [
                                  "list",
                                  "string"
                                ],
                                "inherit": "bool",
                                "login": "bool",
                                "name": "string",
                                "passwordSecret": [
                                  "object",
                                  {
                                    "name": "string"
                                  }
                                ],
                                "replication": "bool",
                                "superuser": "bool",
                                "validUntil": "string"
                              }
                            ]
                          ]
                        }
                      ],
                      "maxSyncReplicas": "number",
                      "minSyncReplicas": "number",
                      "monitoring": [
                        "object",
                        {
                          "customQueriesConfigMap": [
                            "list",
                            [
                              "object",
                              {
                                "key": "string",
                                "name": "string"
                              }
                            ]
                          ],
                          "customQueriesSecret": [
                            "list",
                            [
                              "object",
                              {
                                "key": "string",
                                "name": "string"
                              }
                            ]
                          ],
                          "disableDefaultQueries": "bool",
                          "enablePodMonitor": "bool",
                          "podMonitorMetricRelabelings": [
                            "list",
                            [
                              "object",
                              {
                                "action": "string",
                                "modulus": "number",
                                "regex": "string",
                                "replacement": "string",
                                "separator": "string",
                                "sourceLabels": [
                                  "list",
                                  "string"
                                ],
                                "targetLabel": "string"
                              }
                            ]
                          ],
                          "podMonitorRelabelings": [
                            "list",
                            [
                              "object",
                              {
                                "action": "string",
                                "modulus": "number",
                                "regex": "string",
                                "replacement": "string",
                                "separator": "string",
                                "sourceLabels": [
                                  "list",
                                  "string"
                                ],
                                "targetLabel": "string"
                              }
                            ]
                          ]
                        }
                      ],
                      "nodeMaintenanceWindow": [
                        "object",
                        {
                          "inProgress": "bool",
                          "reusePVC": "bool"
                        }
                      ],
                      "plugins": [
                        "list",
                        [
                          "object",
                          {
                            "name": "string",
                            "parameters": [
                              "map",
                              "string"
                            ]
                          }
                        ]
                      ],
                      "postgresGID": "number",
                      "postgresUID": "number",
                      "postgresql": [
                        "object",
                        {
                          "enableAlterSystem": "bool",
                          "ldap": [
                            "object",
                            {
                              "bindAsAuth": [
                                "object",
                                {
                                  "prefix": "string",
                                  "suffix": "string"
                                }
                              ],
                              "bindSearchAuth": [
                                "object",
                                {
                                  "baseDN": "string",
                                  "bindDN": "string",
                                  "bindPassword": [
                                    "object",
                                    {
                                      "key": "string",
                                      "name": "string",
                                      "optional": "bool"
                                    }
                                  ],
                                  "searchAttribute": "string",
                                  "searchFilter": "string"
                                }
                              ],
                              "port": "number",
                              "scheme": "string",
                              "server": "string",
                              "tls": "bool"
                            }
                          ],
                          "parameters": [
                            "map",
                            "string"
                          ],
                          "pg_hba": [
                            "list",
                            "string"
                          ],
                          "pg_ident": [
                            "list",
                            "string"
                          ],
                          "promotionTimeout": "number",
                          "shared_preload_libraries": [
                            "list",
                            "string"
                          ],
                          "syncReplicaElectionConstraint": [
                            "object",
                            {
                              "enabled": "bool",
                              "nodeLabelsAntiAffinity": [
                                "list",
                                "string"
                              ]
                            }
                          ]
                        }
                      ],
                      "primaryUpdateMethod": "string",
                      "primaryUpdateStrategy": "string",
                      "priorityClassName": "string",
                      "projectedVolumeTemplate": [
                        "object",
                        {
                          "defaultMode": "number",
                          "sources": [
                            "list",
                            [
                              "object",
                              {
                                "clusterTrustBundle": [
                                  "object",
                                  {
                                    "labelSelector": [
                                      "object",
                                      {
                                        "matchExpressions": [
                                          "list",
                                          [
                                            "object",
                                            {
                                              "key": "string",
                                              "operator": "string",
                                              "values": [
                                                "list",
                                                "string"
                                              ]
                                            }
                                          ]
                                        ],
                                        "matchLabels": [
                                          "map",
                                          "string"
                                        ]
                                      }
                                    ],
                                    "name": "string",
                                    "optional": "bool",
                                    "path": "string",
                                    "signerName": "string"
                                  }
                                ],
                                "configMap": [
                                  "object",
                                  {
                                    "items": [
                                      "list",
                                      [
                                        "object",
                                        {
                                          "key": "string",
                                          "mode": "number",
                                          "path": "string"
                                        }
                                      ]
                                    ],
                                    "name": "string",
                                    "optional": "bool"
                                  }
                                ],
                                "downwardAPI": [
                                  "object",
                                  {
                                    "items": [
                                      "list",
                                      [
                                        "object",
                                        {
                                          "fieldRef": [
                                            "object",
                                            {
                                              "apiVersion": "string",
                                              "fieldPath": "string"
                                            }
                                          ],
                                          "mode": "number",
                                          "path": "string",
                                          "resourceFieldRef": [
                                            "object",
                                            {
                                              "containerName": "string",
                                              "divisor": "string",
                                              "resource": "string"
                                            }
                                          ]
                                        }
                                      ]
                                    ]
                                  }
                                ],
                                "secret": [
                                  "object",
                                  {
                                    "items": [
                                      "list",
                                      [
                                        "object",
                                        {
                                          "key": "string",
                                          "mode": "number",
                                          "path": "string"
                                        }
                                      ]
                                    ],
                                    "name": "string",
                                    "optional": "bool"
                                  }
                                ],
                                "serviceAccountToken": [
                                  "object",
                                  {
                                    "audience": "string",
                                    "expirationSeconds": "number",
                                    "path": "string"
                                  }
                                ]
                              }
                            ]
                          ]
                        }
                      ],
                      "replica": [
                        "object",
                        {
                          "enabled": "bool",
                          "source": "string"
                        }
                      ],
                      "replicationSlots": [
                        "object",
                        {
                          "highAvailability": [
                            "object",
                            {
                              "enabled": "bool",
                              "slotPrefix": "string"
                            }
                          ],
                          "synchronizeReplicas": [
                            "object",
                            {
                              "enabled": "bool",
                              "excludePatterns": [
                                "list",
                                "string"
                              ]
                            }
                          ],
                          "updateInterval": "number"
                        }
                      ],
                      "resources": [
                        "object",
                        {
                          "claims": [
                            "list",
                            [
                              "object",
                              {
                                "name": "string"
                              }
                            ]
                          ],
                          "limits": [
                            "map",
                            "string"
                          ],
                          "requests": [
                            "map",
                            "string"
                          ]
                        }
                      ],
                      "schedulerName": "string",
                      "seccompProfile": [
                        "object",
                        {
                          "localhostProfile": "string",
                          "type": "string"
                        }
                      ],
                      "serviceAccountTemplate": [
                        "object",
                        {
                          "metadata": [
                            "object",
                            {
                              "annotations": [
                                "map",
                                "string"
                              ],
                              "labels": [
                                "map",
                                "string"
                              ]
                            }
                          ]
                        }
                      ],
                      "smartShutdownTimeout": "number",
                      "startDelay": "number",
                      "stopDelay": "number",
                      "storage": [
                        "object",
                        {
                          "pvcTemplate": [
                            "object",
                            {
                              "accessModes": [
                                "list",
                                "string"
                              ],
                              "dataSource": [
                                "object",
                                {
                                  "apiGroup": "string",
                                  "kind": "string",
                                  "name": "string"
                                }
                              ],
                              "dataSourceRef": [
                                "object",
                                {
                                  "apiGroup": "string",
                                  "kind": "string",
                                  "name": "string",
                                  "namespace": "string"
                                }
                              ],
                              "resources": [
                                "object",
                                {
                                  "limits": [
                                    "map",
                                    "string"
                                  ],
                                  "requests": [
                                    "map",
                                    "string"
                                  ]
                                }
                              ],
                              "selector": [
                                "object",
                                {
                                  "matchExpressions": [
                                    "list",
                                    [
                                      "object",
                                      {
                                        "key": "string",
                                        "operator": "string",
                                        "values": [
                                          "list",
                                          "string"
                                        ]
                                      }
                                    ]
                                  ],
                                  "matchLabels": [
                                    "map",
                                    "string"
                                  ]
                                }
                              ],
                              "storageClassName": "string",
                              "volumeAttributesClassName": "string",
                              "volumeMode": "string",
                              "volumeName": "string"
                            }
                          ],
                          "resizeInUseVolumes": "bool",
                          "size": "string",
                          "storageClass": "string"
                        }
                      ],
                      "superuserSecret": [
                        "object",
                        {
                          "name": "string"
                        }
                      ],
                      "switchoverDelay": "number",
                      "tablespaces": [
                        "list",
                        [
                          "object",
                          {
                            "name": "string",
                            "owner": [
                              "object",
                              {
                                "name": "string"
                              }
                            ],
                            "storage": [
                              "object",
                              {
                                "pvcTemplate": [
                                  "object",
                                  {
                                    "accessModes": [
                                      "list",
                                      "string"
                                    ],
                                    "dataSource": [
                                      "object",
                                      {
                                        "apiGroup": "string",
                                        "kind": "string",
                                        "name": "string"
                                      }
                                    ],
                                    "dataSourceRef": [
                                      "object",
                                      {
                                        "apiGroup": "string",
                                        "kind": "string",
                                        "name": "string",
                                        "namespace": "string"
                                      }
                                    ],
                                    "resources": [
                                      "object",
                                      {
                                        "limits": [
                                          "map",
                                          "string"
                                        ],
                                        "requests": [
                                          "map",
                                          "string"
                                        ]
                                      }
                                    ],
                                    "selector": [
                                      "object",
                                      {
                                        "matchExpressions": [
                                          "list",
                                          [
                                            "object",
                                            {
                                              "key": "string",
                                              "operator": "string",
                                              "values": [
                                                "list",
                                                "string"
                                              ]
                                            }
                                          ]
                                        ],
                                        "matchLabels": [
                                          "map",
                                          "string"
                                        ]
                                      }
                                    ],
                                    "storageClassName": "string",
                                    "volumeAttributesClassName": "string",
                                    "volumeMode": "string",
                                    "volumeName": "string"
                                  }
                                ],
                                "resizeInUseVolumes": "bool",
                                "size": "string",
                                "storageClass": "string"
                              }
                            ],
                            "temporary": "bool"
                          }
                        ]
                      ],
                      "topologySpreadConstraints": [
                        "list",
                        [
                          "object",
                          {
                            "labelSelector": [
                              "object",
                              {
                                "matchExpressions": [
                                  "list",
                                  [
                                    "object",
                                    {
                                      "key": "string",
                                      "operator": "string",
                                      "values": [
                                        "list",
                                        "string"
                                      ]
                                    }
                                  ]
                                ],
                                "matchLabels": [
                                  "map",
                                  "string"
                                ]
                              }
                            ],
                            "matchLabelKeys": [
                              "list",
                              "string"
                            ],
                            "maxSkew": "number",
                            "minDomains": "number",
                            "nodeAffinityPolicy": "string",
                            "nodeTaintsPolicy": "string",
                            "topologyKey": "string",
                            "whenUnsatisfiable": "string"
                          }
                        ]
                      ],
                      "walStorage": [
                        "object",
                        {
                          "pvcTemplate": [
                            "object",
                            {
                              "accessModes": [
                                "list",
                                "string"
                              ],
                              "dataSource": [
                                "object",
                                {
                                  "apiGroup": "string",
                                  "kind": "string",
                                  "name": "string"
                                }
                              ],
                              "dataSourceRef": [
                                "object",
                                {
                                  "apiGroup": "string",
                                  "kind": "string",
                                  "name": "string",
                                  "namespace": "string"
                                }
                              ],
                              "resources": [
                                "object",
                                {
                                  "limits": [
                                    "map",
                                    "string"
                                  ],
                                  "requests": [
                                    "map",
                                    "string"
                                  ]
                                }
                              ],
                              "selector": [
                                "object",
                                {
                                  "matchExpressions": [
                                    "list",
                                    [
                                      "object",
                                      {
                                        "key": "string",
                                        "operator": "string",
                                        "values": [
                                          "list",
                                          "string"
                                        ]
                                      }
                                    ]
                                  ],
                                  "matchLabels": [
                                    "map",
                                    "string"
                                  ]
                                }
                              ],
                              "storageClassName": "string",
                              "volumeAttributesClassName": "string",
                              "volumeMode": "string",
                              "volumeName": "string"
                            }
                          ],
                          "resizeInUseVolumes": "bool",
                          "size": "string",
                          "storageClass": "string"
                        }
                      ]
                    }
                  ]
                }
              ]
            },
            "timeouts": [],
            "wait": [],
            "wait_for": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 1,
          "identity": {
            "api_version": "postgresql.cnpg.io/v1",
            "kind": "Cluster",
            "name": "postgres-ha",
            "namespace": "database"
          },
          "dependencies": [
            "module.database.helm_release.cnpg_operator",
            "module.database.kubernetes_namespace.database",
            "module.database.kubernetes_secret.postgres_credentials",
            "module.database.null_resource.wait_for_cnpg_crd"
          ]
        }
      ]
    },
    {
      "module": "module.database",
      "mode": "managed",
      "type": "kubernetes_namespace",
      "name": "database",
      "provider": "provider[\"registry.terraform.io/hashicorp/kubernetes\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "database",
            "metadata": [
              {
                "annotations": {},
                "generate_name": "",
                "generation": 0,
                "labels": {
                  "app.kubernetes.io/component": "database"
                },
                "name": "database",
                "resource_version": "59453",
                "uid": "7b7c346d-18a9-4c8f-92f5-6377330447d6"
              }
            ],
            "timeouts": null,
            "wait_for_default_service_account": false
          },
          "sensitive_attributes": [],
          "identity_schema_version": 1,
          "identity": {
            "api_version": "v1",
            "kind": "Namespace",
            "name": "database"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiZGVsZXRlIjozMDAwMDAwMDAwMDB9fQ=="
        }
      ]
    },
    {
      "module": "module.database",
      "mode": "managed",
      "type": "kubernetes_pod_disruption_budget_v1",
      "name": "postgres_pdb",
      "provider": "provider[\"registry.terraform.io/hashicorp/kubernetes\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "id": "database/postgres-ha-pdb",
            "metadata": [
              {
                "annotations": {},
                "generate_name": "",
                "generation": 1,
                "labels": {},
                "name": "postgres-ha-pdb",
                "namespace": "database",
                "resource_version": "60221",
                "uid": "5dac5beb-f6b2-4c94-9682-d06578dbf4ef"
              }
            ],
            "spec": [
              {
                "max_unavailable": "",
                "min_available": "2",
                "selector": [
                  {
                    "match_expressions": [],
                    "match_labels": {
                      "cnpg.io/cluster": "postgres-ha"
                    }
                  }
                ]
              }
            ]
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "bnVsbA==",
          "dependencies": [
            "module.database.kubernetes_namespace.database"
          ]
        }
      ]
    },
    {
      "module": "module.database",
      "mode": "managed",
      "type": "kubernetes_secret",
      "name": "postgres_credentials",
      "provider": "provider[\"registry.terraform.io/hashicorp/kubernetes\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "binary_data": null,
            "binary_data_wo": null,
            "binary_data_wo_revision": null,
            "data": {
              "password": "cG9zdGdyZXMxMjMh",
              "username": "cG9zdGdyZXM="
            },
            "data_wo": null,
            "data_wo_revision": null,
            "id": "database/postgres-credentials",
            "immutable": false,
            "metadata": [
              {
                "annotations": {},
                "generate_name": "",
                "generation": 0,
                "labels": {},
                "name": "postgres-credentials",
                "namespace": "database",
                "resource_version": "59458",
                "uid": "edf540c6-b9f0-424e-b214-1ba65a495c3c"
              }
            ],
            "timeouts": null,
            "type": "Opaque",
            "wait_for_service_account_token": true
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "binary_data"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "data"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "data"
              },
              {
                "type": "index",
                "value": {
                  "value": "password",
                  "type": "string"
                }
              }
            ]
          ],
          "identity_schema_version": 1,
          "identity": {
            "api_version": "v1",
            "kind": "Secret",
            "name": "postgres-credentials",
            "namespace": "database"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMH19",
          "dependencies": [
            "module.database.kubernetes_namespace.database"
          ]
        }
      ]
    },
    {
      "module": "module.database",
      "mode": "managed",
      "type": "kubernetes_service",
      "name": "postgres",
      "provider": "provider[\"registry.terraform.io/hashicorp/kubernetes\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 1,
          "attributes": {
            "id": "database/postgres",
            "metadata": [
              {
                "annotations": {},
                "generate_name": "",
                "generation": 0,
                "labels": {
                  "cnpg.io/cluster": "postgres-ha"
                },
                "name": "postgres",
                "namespace": "database",
                "resource_version": "59467",
                "uid": "e53d7aa7-052f-4373-bfb4-64e3fb44eaf8"
              }
            ],
            "spec": [
              {
                "allocate_load_balancer_node_ports": true,
                "cluster_ip": "10.96.132.247",
                "cluster_ips": [
                  "10.96.132.247"
                ],
                "external_ips": [],
                "external_name": "",
                "external_traffic_policy": "",
                "health_check_node_port": 0,
                "internal_traffic_policy": "Cluster",
                "ip_families": [
                  "IPv4"
                ],
                "ip_family_policy": "SingleStack",
                "load_balancer_class": "",
                "load_balancer_ip": "",
                "load_balancer_source_ranges": [],
                "port": [
                  {
                    "app_protocol": "",
                    "name": "",
                    "node_port": 0,
                    "port": 5432,
                    "protocol": "TCP",
                    "target_port": "5432"
                  }
                ],
                "publish_not_ready_addresses": false,
                "selector": {
                  "cnpg.io/cluster": "postgres-ha"
                },
                "session_affinity": "None",
                "session_affinity_config": [],
                "type": "ClusterIP"
              }
            ],
            "status": [
              {
                "load_balancer": [
                  {
                    "ingress": []
                  }
                ]
              }
            ],
            "timeouts": null,
            "wait_for_load_balancer": true
          },
          "sensitive_attributes": [],
          "identity_schema_version": 1,
          "identity": {
            "api_version": "v1",
            "kind": "Service",
            "name": "postgres",
            "namespace": "database"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDB9LCJzY2hlbWFfdmVyc2lvbiI6IjEifQ==",
          "dependencies": [
            "module.database.kubernetes_namespace.database"
          ]
        }
      ]
    },
    {
      "module": "module.database",
      "mode": "managed",
      "type": "kubernetes_service",
      "name": "postgres_readonly",
      "provider": "provider[\"registry.terraform.io/hashicorp/kubernetes\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 1,
          "attributes": {
            "id": "database/postgres-readonly",
            "metadata": [
              {
                "annotations": {},
                "generate_name": "",
                "generation": 0,
                "labels": {},
                "name": "postgres-readonly",
                "namespace": "database",
                "resource_version": "59462",
                "uid": "87adce39-6143-4ada-ae2b-dc1329d0f607"
              }
            ],
            "spec": [
              {
                "allocate_load_balancer_node_ports": true,
                "cluster_ip": "10.96.220.194",
                "cluster_ips": [
                  "10.96.220.194"
                ],
                "external_ips": [],
                "external_name": "",
                "external_traffic_policy": "",
                "health_check_node_port": 0,
                "internal_traffic_policy": "Cluster",
                "ip_families": [
                  "IPv4"
                ],
                "ip_family_policy": "SingleStack",
                "load_balancer_class": "",
                "load_balancer_ip": "",
                "load_balancer_source_ranges": [],
                "port": [
                  {
                    "app_protocol": "",
                    "name": "",
                    "node_port": 0,
                    "port": 5432,
                    "protocol": "TCP",
                    "target_port": "5432"
                  }
                ],
                "publish_not_ready_addresses": false,
                "selector": {
                  "cnpg.io/cluster": "postgres-ha",
                  "role": "replica"
                },
                "session_affinity": "None",
                "session_affinity_config": [],
                "type": "ClusterIP"
              }
            ],
            "status": [
              {
                "load_balancer": [
                  {
                    "ingress": []
                  }
                ]
              }
            ],
            "timeouts": null,
            "wait_for_load_balancer": true
          },
          "sensitive_attributes": [],
          "identity_schema_version": 1,
          "identity": {
            "api_version": "v1",
            "kind": "Service",
            "name": "postgres-readonly",
            "namespace": "database"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDB9LCJzY2hlbWFfdmVyc2lvbiI6IjEifQ==",
          "dependencies": [
            "module.database.kubernetes_namespace.database"
          ]
        }
      ]
    },
    {
      "module": "module.database",
      "mode": "managed",
      "type": "null_resource",
      "name": "wait_for_cnpg_crd",
      "provider": "provider[\"registry.terraform.io/hashicorp/null\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "id": "5568682781499160858",
            "triggers": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "dependencies": [
            "module.database.helm_release.cnpg_operator",
            "module.database.kubernetes_namespace.database"
          ]
        }
      ]
    },
    {
      "module": "module.ingress",
      "mode": "managed",
      "type": "helm_release",
      "name": "nginx_ingress",
      "provider": "provider[\"registry.terraform.io/hashicorp/helm\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "atomic": false,
            "chart": "ingress-nginx",
            "cleanup_on_fail": false,
            "create_namespace": false,
            "dependency_update": false,
            "description": null,
            "devel": null,
            "disable_crd_hooks": false,
            "disable_openapi_validation": false,
            "disable_webhooks": false,
            "force_update": false,
            "id": "nginx-ingress",
            "keyring": null,
            "lint": false,
            "manifest": null,
            "max_history": 0,
            "metadata": [
              {
                "app_version": "1.10.0",
                "chart": "ingress-nginx",
                "first_deployed": 1763612200,
                "last_deployed": 1763612200,
                "name": "nginx-ingress",
                "namespace": "ingress-nginx",
                "notes": "The ingress-nginx controller has been installed.\nGet the application URL by running these commands:\n  export HTTP_NODE_PORT=$(kubectl get service --namespace ingress-nginx nginx-ingress-ingress-nginx-controller --output jsonpath=\"{.spec.ports[0].nodePort}\")\n  export HTTPS_NODE_PORT=$(kubectl get service --namespace ingress-nginx nginx-ingress-ingress-nginx-controller --output jsonpath=\"{.spec.ports[1].nodePort}\")\n  export NODE_IP=\"$(kubectl get nodes --output jsonpath=\"{.items[0].status.addresses[1].address}\")\"\n\n  echo \"Visit http://${NODE_IP}:${HTTP_NODE_PORT} to access your application via HTTP.\"\n  echo \"Visit https://${NODE_IP}:${HTTPS_NODE_PORT} to access your application via HTTPS.\"\n\nAn example Ingress that makes use of the controller:\n  apiVersion: networking.k8s.io/v1\n  kind: Ingress\n  metadata:\n    name: example\n    namespace: foo\n  spec:\n    ingressClassName: nginx\n    rules:\n      - host: www.example.com\n        http:\n          paths:\n            - pathType: Prefix\n              backend:\n                service:\n                  name: exampleService\n                  port:\n                    number: 80\n              path: /\n    # This section is only required if TLS is to be enabled for the Ingress\n    tls:\n      - hosts:\n        - www.example.com\n        secretName: example-tls\n\nIf TLS is enabled for the Ingress, a Secret containing the certificate and key must also be provided:\n\n  apiVersion: v1\n  kind: Secret\n  metadata:\n    name: example-tls\n    namespace: foo\n  data:\n    tls.crt: \u003cbase64 encoded cert\u003e\n    tls.key: \u003cbase64 encoded key\u003e\n  type: kubernetes.io/tls\n",
                "revision": 1,
                "values": "{\"controller\":{\"resources\":{\"limits\":{\"cpu\":\"500m\",\"memory\":\"512Mi\"},\"requests\":{\"cpu\":\"100m\",\"memory\":\"90Mi\"}},\"service\":{\"type\":\"NodePort\"}}}",
                "version": "4.10.0"
              }
            ],
            "name": "nginx-ingress",
            "namespace": "ingress-nginx",
            "pass_credentials": false,
            "postrender": [],
            "recreate_pods": false,
            "render_subchart_notes": true,
            "replace": false,
            "repository": "https://kubernetes.github.io/ingress-nginx",
            "repository_ca_file": null,
            "repository_cert_file": null,
            "repository_key_file": null,
            "repository_password": null,
            "repository_username": null,
            "reset_values": false,
            "reuse_values": false,
            "set": [],
            "set_list": [],
            "set_sensitive": [],
            "skip_crds": false,
            "status": "deployed",
            "timeout": 300,
            "upgrade_install": null,
            "values": [
              "\"controller\":\n  \"resources\":\n    \"limits\":\n      \"cpu\": \"500m\"\n      \"memory\": \"512Mi\"\n    \"requests\":\n      \"cpu\": \"100m\"\n      \"memory\": \"90Mi\"\n  \"service\":\n    \"type\": \"NodePort\"\n"
            ],
            "verify": false,
            "version": "4.10.0",
            "wait": true,
            "wait_for_jobs": false
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "repository_password"
              }
            ]
          ],
          "identity_schema_version": 0,
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjEifQ==",
          "dependencies": [
            "module.ingress.kubernetes_namespace.ingress_nginx"
          ]
        }
      ]
    },
    {
      "module": "module.ingress",
      "mode": "managed",
      "type": "kubernetes_namespace",
      "name": "ingress_nginx",
      "provider": "provider[\"registry.terraform.io/hashicorp/kubernetes\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "ingress-nginx",
            "metadata": [
              {
                "annotations": {},
                "generate_name": "",
                "generation": 0,
                "labels": {},
                "name": "ingress-nginx",
                "resource_version": "77843",
                "uid": "501e57d4-385c-4fec-8110-71f97d7f9d1c"
              }
            ],
            "timeouts": null,
            "wait_for_default_service_account": false
          },
          "sensitive_attributes": [],
          "identity_schema_version": 1,
          "identity": {
            "api_version": "v1",
            "kind": "Namespace",
            "name": "ingress-nginx"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiZGVsZXRlIjozMDAwMDAwMDAwMDB9fQ=="
        }
      ]
    },
    {
      "module": "module.monitoring",
      "mode": "managed",
      "type": "helm_release",
      "name": "prometheus",
      "provider": "provider[\"registry.terraform.io/hashicorp/helm\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 1,
          "attributes": {
            "atomic": false,
            "chart": "kube-prometheus-stack",
            "cleanup_on_fail": false,
            "create_namespace": false,
            "dependency_update": false,
            "description": null,
            "devel": null,
            "disable_crd_hooks": false,
            "disable_openapi_validation": false,
            "disable_webhooks": false,
            "force_update": false,
            "id": "prometheus",
            "keyring": null,
            "lint": false,
            "manifest": null,
            "max_history": 0,
            "metadata": [
              {
                "app_version": "v0.71.0",
                "chart": "kube-prometheus-stack",
                "first_deployed": 1763612819,
                "last_deployed": 1763612819,
                "name": "prometheus",
                "namespace": "monitoring",
                "notes": "1. Get the application URL by running these commands:\n  export POD_NAME=$(kubectl get pods --namespace monitoring -l \"app.kubernetes.io/name=prometheus-node-exporter,app.kubernetes.io/instance=prometheus\" -o jsonpath=\"{.items[0].metadata.name}\")\n  echo \"Visit http://127.0.0.1:9100 to use your application\"\n  kubectl port-forward --namespace monitoring $POD_NAME 9100\n1. Get your 'admin' user password by running:\n\n   kubectl get secret --namespace monitoring prometheus-grafana -o jsonpath=\"{.data.admin-password}\" | base64 --decode ; echo\n\n\n2. The Grafana server can be accessed via port 80 on the following DNS name from within your cluster:\n\n   prometheus-grafana.monitoring.svc.cluster.local\n\n   Get the Grafana URL to visit by running these commands in the same shell:\n     export POD_NAME=$(kubectl get pods --namespace monitoring -l \"app.kubernetes.io/name=grafana,app.kubernetes.io/instance=prometheus\" -o jsonpath=\"{.items[0].metadata.name}\")\n     kubectl --namespace monitoring port-forward $POD_NAME 3000\n\n3. Login with the password from step 1 and the username: admin\n#################################################################################\n######   WARNING: Persistence is disabled!!! You will lose your data when   #####\n######            the Grafana pod is terminated.                            #####\n#################################################################################\n\nkube-prometheus-stack has been installed. Check its status by running:\n  kubectl --namespace monitoring get pods -l \"release=prometheus\"\n\nVisit https://github.com/prometheus-operator/kube-prometheus for instructions on how to create \u0026 configure Alertmanager and Prometheus instances using the Operator.\n\nkube-state-metrics is a simple service that listens to the Kubernetes API server and generates metrics about the state of the objects.\nThe exposed metrics can be found here:\nhttps://github.com/kubernetes/kube-state-metrics/blob/master/docs/README.md#exposed-metrics\n\nThe metrics are exported on the HTTP endpoint /metrics on the listening port.\nIn your case, prometheus-kube-state-metrics.monitoring.svc.cluster.local:8080/metrics\n\nThey are served either as plaintext or protobuf depending on the Accept header.\nThey are designed to be consumed either by Prometheus itself or by a scraper that is compatible with scraping a Prometheus client endpoint.\n",
                "revision": 1,
                "values": "{\"grafana\":{\"adminPassword\":\"admin\",\"enabled\":true},\"prometheus\":{\"prometheusSpec\":{\"resources\":{\"limits\":{\"cpu\":\"500m\",\"memory\":\"1Gi\"},\"requests\":{\"cpu\":\"250m\",\"memory\":\"512Mi\"}}}}}",
                "version": "56.0.0"
              }
            ],
            "name": "prometheus",
            "namespace": "monitoring",
            "pass_credentials": false,
            "postrender": [],
            "recreate_pods": false,
            "render_subchart_notes": true,
            "replace": false,
            "repository": "https://prometheus-community.github.io/helm-charts",
            "repository_ca_file": null,
            "repository_cert_file": null,
            "repository_key_file": null,
            "repository_password": null,
            "repository_username": null,
            "reset_values": false,
            "reuse_values": false,
            "set": [],
            "set_list": [],
            "set_sensitive": [],
            "skip_crds": false,
            "status": "deployed",
            "timeout": 300,
            "upgrade_install": null,
            "values": [
              "\"grafana\":\n  \"adminPassword\": \"admin\"\n  \"enabled\": true\n\"prometheus\":\n  \"prometheusSpec\":\n    \"resources\":\n      \"limits\":\n        \"cpu\": \"500m\"\n        \"memory\": \"1Gi\"\n      \"requests\":\n        \"cpu\": \"250m\"\n        \"memory\": \"512Mi\"\n"
            ],
            "verify": false,
            "version": "56.0.0",
            "wait": true,
            "wait_for_jobs": false
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "repository_password"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "values"
              },
              {
                "type": "index",
                "value": {
                  "value": 0,
                  "type": "number"
                }
              }
            ]
          ],
          "identity_schema_version": 0,
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjEifQ==",
          "dependencies": [
            "module.monitoring.kubernetes_namespace.monitoring"
          ]
        }
      ]
    },
    {
      "module": "module.monitoring",
      "mode": "managed",
      "type": "kubernetes_namespace",
      "name": "monitoring",
      "provider": "provider[\"registry.terraform.io/hashicorp/kubernetes\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "id": "monitoring",
            "metadata": [
              {
                "annotations": {},
                "generate_name": "",
                "generation": 0,
                "labels": {},
                "name": "monitoring",
                "resource_version": "25366",
                "uid": "7fb6a861-53a0-445f-9ec1-cd7b6009c33d"
              }
            ],
            "timeouts": null,
            "wait_for_default_service_account": false
          },
          "sensitive_attributes": [],
          "identity_schema_version": 1,
          "identity": {
            "api_version": "v1",
            "kind": "Namespace",
            "name": "monitoring"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiZGVsZXRlIjozMDAwMDAwMDAwMDB9fQ=="
        }
      ]
    },
    {
      "module": "module.observability",
      "mode": "managed",
      "type": "helm_release",
      "name": "jaeger",
      "provider": "provider[\"registry.terraform.io/hashicorp/helm\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 1,
          "attributes": {
            "atomic": false,
            "chart": "jaeger",
            "cleanup_on_fail": false,
            "create_namespace": false,
            "dependency_update": false,
            "description": null,
            "devel": null,
            "disable_crd_hooks": false,
            "disable_openapi_validation": false,
            "disable_webhooks": false,
            "force_update": false,
            "id": "jaeger",
            "keyring": null,
            "lint": false,
            "manifest": null,
            "max_history": 0,
            "metadata": [
              {
                "app_version": "1.45.0",
                "chart": "jaeger",
                "first_deployed": 1763632384,
                "last_deployed": 1763632384,
                "name": "jaeger",
                "namespace": "observability",
                "notes": "Cassandra CQL can be accessed via port 9042 on the following DNS name from within your cluster:\nCassandra Thrift can be accessed via port 9160 on the following DNS name from within your cluster:\n\nIf you want to connect to the remote instance with your local Cassandra CQL cli. To forward the API port to localhost:9042 run the following:\n- kubectl port-forward --namespace observability $(kubectl get pods --namespace observability -l app=cassandra,release=jaeger -o jsonpath='{ .items[0].metadata.name }') 9042:9042\n\nIf you want to connect to the Cassandra CQL run the following:\n- kubectl port-forward --namespace observability $(kubectl get pods --namespace observability -l \"app=cassandra,release=jaeger\" -o jsonpath=\"{.items[0].metadata.name}\") 9042:9042\n  echo cqlsh 127.0.0.1 9042\n\nYou can also see the cluster status by run the following:\n- kubectl exec -it --namespace observability $(kubectl get pods --namespace observability -l app=cassandra,release=jaeger -o jsonpath='{.items[0].metadata.name}') nodetool status\n\nTo tail the logs for the Cassandra pod run the following:\n- kubectl logs -f --namespace observability $(kubectl get pods --namespace observability -l app=cassandra,release=jaeger -o jsonpath='{ .items[0].metadata.name }')\n\nNote that the cluster is running with node-local storage instead of PersistentVolumes. In order to prevent data loss,\npods will be decommissioned upon termination. Decommissioning may take some time, so you might also want to adjust the\npod termination gace period, which is currently set to 30 seconds.\n\n\n###################################################################\n### IMPORTANT: Ensure that storage is explicitly configured     ###\n### Default storage options are subject to change.              ###\n###                                                             ###\n### IMPORTANT: The use of \u003ccomponent\u003e.env: {...} is deprecated. ###\n### Please use \u003ccomponent\u003e.extraEnv: [] instead.                ###\n###################################################################\n\nYou can log into the Jaeger Query UI here:\n\n  export POD_NAME=$(kubectl get pods --namespace observability -l \"app.kubernetes.io/instance=jaeger,app.kubernetes.io/component=query\" -o jsonpath=\"{.items[0].metadata.name}\")\n  echo http://127.0.0.1:8080/\n  kubectl port-forward --namespace observability $POD_NAME 8080:16686\n",
                "revision": 1,
                "values": "{\"agent\":{\"enabled\":true},\"collector\":{\"enabled\":true,\"ports\":{\"grpc\":{\"enabled\":true,\"port\":14250},\"thrift\":{\"compact\":{\"enabled\":true,\"port\":6831}}},\"service\":{\"type\":\"ClusterIP\"}},\"query\":{\"enabled\":true},\"replicas\":1,\"resources\":{\"limits\":{\"cpu\":\"500m\",\"memory\":\"512Mi\"},\"requests\":{\"cpu\":\"100m\",\"memory\":\"128Mi\"}},\"serviceMonitor\":{\"enabled\":true},\"storage\":{\"type\":\"memory\"}}",
                "version": "0.71.1"
              }
            ],
            "name": "jaeger",
            "namespace": "observability",
            "pass_credentials": false,
            "postrender": [],
            "recreate_pods": false,
            "render_subchart_notes": true,
            "replace": false,
            "repository": "https://jaegertracing.github.io/helm-charts",
            "repository_ca_file": null,
            "repository_cert_file": null,
            "repository_key_file": null,
            "repository_password": null,
            "repository_username": null,
            "reset_values": false,
            "reuse_values": false,
            "set": [],
            "set_list": [],
            "set_sensitive": [],
            "skip_crds": false,
            "status": "deployed",
            "timeout": 300,
            "upgrade_install": null,
            "values": [
              "\"agent\":\n  \"enabled\": true\n\"collector\":\n  \"enabled\": true\n  \"ports\":\n    \"grpc\":\n      \"enabled\": true\n      \"port\": 14250\n    \"thrift\":\n      \"compact\":\n        \"enabled\": true\n        \"port\": 6831\n  \"service\":\n    \"type\": \"ClusterIP\"\n\"query\":\n  \"enabled\": true\n\"replicas\": 1\n\"resources\":\n  \"limits\":\n    \"cpu\": \"500m\"\n    \"memory\": \"512Mi\"\n  \"requests\":\n    \"cpu\": \"100m\"\n    \"memory\": \"128Mi\"\n\"serviceMonitor\":\n  \"enabled\": true\n\"storage\":\n  \"type\": \"memory\"\n"
            ],
            "verify": false,
            "version": "0.71.1",
            "wait": true,
            "wait_for_jobs": false
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "repository_password"
              }
            ]
          ],
          "identity_schema_version": 0,
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjEifQ==",
          "dependencies": [
            "module.observability.kubernetes_namespace.observability"
          ]
        }
      ]
    },
    {
      "module": "module.observability",
      "mode": "managed",
      "type": "helm_release",
      "name": "otel_collector",
      "provider": "provider[\"registry.terraform.io/hashicorp/helm\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 1,
          "attributes": {
            "atomic": false,
            "chart": "opentelemetry-collector",
            "cleanup_on_fail": false,
            "create_namespace": false,
            "dependency_update": false,
            "description": null,
            "devel": null,
            "disable_crd_hooks": false,
            "disable_openapi_validation": false,
            "disable_webhooks": false,
            "force_update": false,
            "id": "opentelemetry-collector",
            "keyring": null,
            "lint": false,
            "manifest": null,
            "max_history": 0,
            "metadata": [
              {
                "app_version": "0.98.0",
                "chart": "opentelemetry-collector",
                "first_deployed": 1763634808,
                "last_deployed": 1763634808,
                "name": "opentelemetry-collector",
                "namespace": "observability",
                "notes": "\n\n\n",
                "revision": 1,
                "values": "{\"config\":{\"exporters\":{\"logging\":{\"loglevel\":\"debug\"},\"otlp\":{\"endpoint\":\"jaeger-collector.observability.svc:14250\"},\"otlphttp\":{\"endpoint\":\"http://tempo.observability.svc:4318\"},\"prometheus\":{\"endpoint\":\"localhost:8888\"}},\"processors\":{\"attributes\":{\"actions\":[{\"action\":\"upsert\",\"key\":\"deployment.environment\",\"value\":\"production\"}]},\"batch\":{\"send_batch_size\":1024,\"timeout\":\"10s\"},\"memory_limiter\":{\"check_interval\":\"1s\",\"limit_mib\":512,\"spike_limit_mib\":128},\"probabilistic_sampler\":{\"sampling_percentage\":10}},\"receivers\":{\"jaeger\":{\"protocols\":{\"grpc\":{\"endpoint\":\"0.0.0.0:14250\"},\"thrift_compact\":{\"endpoint\":\"0.0.0.0:6831\"}}},\"otlp\":{\"protocols\":{\"grpc\":{\"endpoint\":\"0.0.0.0:4317\"},\"http\":{\"endpoint\":\"0.0.0.0:4318\"}}},\"prometheus\":{\"config\":{\"scrape_configs\":[{\"job_name\":\"otel-collector\",\"static_configs\":[{\"targets\":[\"localhost:8888\"]}]}]}}},\"service\":{\"pipelines\":{\"metrics\":{\"exporters\":[\"prometheus\"],\"processors\":[\"batch\"],\"receivers\":[\"prometheus\"]},\"traces\":{\"exporters\":[\"otlp\",\"otlphttp\",\"logging\"],\"processors\":[\"memory_limiter\",\"batch\",\"attributes\",\"probabilistic_sampler\"],\"receivers\":[\"otlp\",\"jaeger\"]}}}},\"mode\":\"daemonset\",\"ports\":{\"healthcheck\":{\"containerPort\":13133,\"enabled\":true,\"protocol\":\"TCP\",\"servicePort\":13133},\"jaeger-compact\":{\"containerPort\":6831,\"enabled\":true,\"protocol\":\"UDP\",\"servicePort\":6831},\"jaeger-grpc\":{\"containerPort\":14250,\"enabled\":true,\"protocol\":\"TCP\",\"servicePort\":14250},\"otlp-grpc\":{\"containerPort\":4317,\"enabled\":true,\"protocol\":\"TCP\",\"servicePort\":4317},\"otlp-http\":{\"containerPort\":4318,\"enabled\":true,\"protocol\":\"TCP\",\"servicePort\":4318},\"prometheus\":{\"containerPort\":8888,\"enabled\":true,\"protocol\":\"TCP\",\"servicePort\":8888}},\"presets\":{\"kubeletMetrics\":{\"enabled\":true},\"kubernetesAttributes\":{\"enabled\":true}},\"resources\":{\"limits\":{\"cpu\":\"500m\",\"memory\":\"512Mi\"},\"requests\":{\"cpu\":\"100m\",\"memory\":\"128Mi\"}},\"serviceMonitor\":{\"enabled\":true}}",
                "version": "0.88.0"
              }
            ],
            "name": "opentelemetry-collector",
            "namespace": "observability",
            "pass_credentials": false,
            "postrender": [],
            "recreate_pods": false,
            "render_subchart_notes": true,
            "replace": false,
            "repository": "https://open-telemetry.github.io/opentelemetry-helm-charts",
            "repository_ca_file": null,
            "repository_cert_file": null,
            "repository_key_file": null,
            "repository_password": null,
            "repository_username": null,
            "reset_values": false,
            "reuse_values": false,
            "set": [],
            "set_list": [],
            "set_sensitive": [],
            "skip_crds": false,
            "status": "deployed",
            "timeout": 300,
            "upgrade_install": null,
            "values": [
              "\"config\":\n  \"exporters\":\n    \"logging\":\n      \"loglevel\": \"debug\"\n    \"otlp\":\n      \"endpoint\": \"jaeger-collector.observability.svc:14250\"\n    \"otlphttp\":\n      \"endpoint\": \"http://tempo.observability.svc:4318\"\n    \"prometheus\":\n      \"endpoint\": \"localhost:8888\"\n  \"processors\":\n    \"attributes\":\n      \"actions\":\n      - \"action\": \"upsert\"\n        \"key\": \"deployment.environment\"\n        \"value\": \"production\"\n    \"batch\":\n      \"send_batch_size\": 1024\n      \"timeout\": \"10s\"\n    \"memory_limiter\":\n      \"check_interval\": \"1s\"\n      \"limit_mib\": 512\n      \"spike_limit_mib\": 128\n    \"probabilistic_sampler\":\n      \"sampling_percentage\": 10\n  \"receivers\":\n    \"jaeger\":\n      \"protocols\":\n        \"grpc\":\n          \"endpoint\": \"0.0.0.0:14250\"\n        \"thrift_compact\":\n          \"endpoint\": \"0.0.0.0:6831\"\n    \"otlp\":\n      \"protocols\":\n        \"grpc\":\n          \"endpoint\": \"0.0.0.0:4317\"\n        \"http\":\n          \"endpoint\": \"0.0.0.0:4318\"\n    \"prometheus\":\n      \"config\":\n        \"scrape_configs\":\n        - \"job_name\": \"otel-collector\"\n          \"static_configs\":\n          - \"targets\":\n            - \"localhost:8888\"\n  \"service\":\n    \"pipelines\":\n      \"metrics\":\n        \"exporters\":\n        - \"prometheus\"\n        \"processors\":\n        - \"batch\"\n        \"receivers\":\n        - \"prometheus\"\n      \"traces\":\n        \"exporters\":\n        - \"otlp\"\n        - \"otlphttp\"\n        - \"logging\"\n        \"processors\":\n        - \"memory_limiter\"\n        - \"batch\"\n        - \"attributes\"\n        - \"probabilistic_sampler\"\n        \"receivers\":\n        - \"otlp\"\n        - \"jaeger\"\n\"mode\": \"daemonset\"\n\"ports\":\n  \"healthcheck\":\n    \"containerPort\": 13133\n    \"enabled\": true\n    \"protocol\": \"TCP\"\n    \"servicePort\": 13133\n  \"jaeger-compact\":\n    \"containerPort\": 6831\n    \"enabled\": true\n    \"protocol\": \"UDP\"\n    \"servicePort\": 6831\n  \"jaeger-grpc\":\n    \"containerPort\": 14250\n    \"enabled\": true\n    \"protocol\": \"TCP\"\n    \"servicePort\": 14250\n  \"otlp-grpc\":\n    \"containerPort\": 4317\n    \"enabled\": true\n    \"protocol\": \"TCP\"\n    \"servicePort\": 4317\n  \"otlp-http\":\n    \"containerPort\": 4318\n    \"enabled\": true\n    \"protocol\": \"TCP\"\n    \"servicePort\": 4318\n  \"prometheus\":\n    \"containerPort\": 8888\n    \"enabled\": true\n    \"protocol\": \"TCP\"\n    \"servicePort\": 8888\n\"presets\":\n  \"kubeletMetrics\":\n    \"enabled\": true\n  \"kubernetesAttributes\":\n    \"enabled\": true\n\"resources\":\n  \"limits\":\n    \"cpu\": \"500m\"\n    \"memory\": \"512Mi\"\n  \"requests\":\n    \"cpu\": \"100m\"\n    \"memory\": \"128Mi\"\n\"serviceMonitor\":\n  \"enabled\": true\n"
            ],
            "verify": false,
            "version": "0.88.0",
            "wait": true,
            "wait_for_jobs": false
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "repository_password"
              }
            ]
          ],
          "identity_schema_version": 0,
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjEifQ==",
          "dependencies": [
            "module.observability.kubernetes_namespace.observability"
          ]
        }
      ]
    },
    {
      "module": "module.observability",
      "mode": "managed",
      "type": "kubernetes_config_map",
      "name": "grafana_dashboard_traces",
      "provider": "provider[\"registry.terraform.io/hashicorp/kubernetes\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "binary_data": {},
            "data": {
              "traces-dashboard.json": "{\"dashboard\":{\"description\":\"Overview of distributed traces from OpenTelemetry\",\"panels\":[{\"datasource\":\"Tempo\",\"targets\":[{\"expr\":\"sum by (service.name) (rate(tempo_distributor_trace_received_total[5m]))\"}],\"title\":\"Traces per Service\",\"type\":\"stat\"},{\"datasource\":\"Tempo\",\"targets\":[{\"expr\":\"histogram_quantile(0.50, rate(tempo_distributor_trace_duration_seconds_bucket[5m]))\"}],\"title\":\"P50 Latency\",\"type\":\"timeseries\"},{\"datasource\":\"Tempo\",\"targets\":[{\"expr\":\"sum(rate(tempo_distributor_trace_received_total{status=\\\"error\\\"}[5m])) / sum(rate(tempo_distributor_trace_received_total[5m]))\"}],\"title\":\"Error Rate\",\"type\":\"stat\"}],\"timezone\":\"browser\",\"title\":\"Distributed Traces Overview\",\"uid\":\"traces-overview\"}}"
            },
            "id": "monitoring/grafana-dashboard-traces",
            "immutable": false,
            "metadata": [
              {
                "annotations": {},
                "generate_name": "",
                "generation": 0,
                "labels": {
                  "grafana_dashboard": "1"
                },
                "name": "grafana-dashboard-traces",
                "namespace": "monitoring",
                "resource_version": "81320",
                "uid": "51b55af0-a649-4021-8f46-8a17648e8c23"
              }
            ]
          },
          "sensitive_attributes": [],
          "identity_schema_version": 1,
          "identity": {
            "api_version": "v1",
            "kind": "ConfigMap",
            "name": "grafana-dashboard-traces",
            "namespace": "monitoring"
          },
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "module": "module.observability",
      "mode": "managed",
      "type": "kubernetes_config_map",
      "name": "grafana_datasource_jaeger",
      "provider": "provider[\"registry.terraform.io/hashicorp/kubernetes\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "binary_data": {},
            "data": {
              "jaeger-datasource.yaml": "\"apiVersion\": 1\n\"datasources\":\n- \"access\": \"proxy\"\n  \"isDefault\": false\n  \"jsonData\":\n    \"nodeGraph\":\n      \"enabled\": true\n  \"name\": \"Jaeger\"\n  \"type\": \"jaeger\"\n  \"url\": \"http://jaeger-query.observability:16686\"\n"
            },
            "id": "monitoring/grafana-datasource-jaeger",
            "immutable": false,
            "metadata": [
              {
                "annotations": {},
                "generate_name": "",
                "generation": 0,
                "labels": {
                  "grafana_datasource": "1"
                },
                "name": "grafana-datasource-jaeger",
                "namespace": "monitoring",
                "resource_version": "81589",
                "uid": "f6902f73-dfef-4748-b913-607aa0aade2c"
              }
            ]
          },
          "sensitive_attributes": [],
          "identity_schema_version": 1,
          "identity": {
            "api_version": "v1",
            "kind": "ConfigMap",
            "name": "grafana-datasource-jaeger",
            "namespace": "monitoring"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "module.observability.helm_release.jaeger",
            "module.observability.kubernetes_namespace.observability"
          ]
        }
      ]
    },
    {
      "module": "module.observability",
      "mode": "managed",
      "type": "kubernetes_namespace",
      "name": "observability",
      "provider": "provider[\"registry.terraform.io/hashicorp/kubernetes\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "id": "observability",
            "metadata": [
              {
                "annotations": {},
                "generate_name": "",
                "generation": 0,
                "labels": {
                  "app.kubernetes.io/component": "observability",
                  "app.kubernetes.io/name": "observability"
                },
                "name": "observability",
                "resource_version": "81321",
                "uid": "467ca0ef-1d31-43c8-9fee-ef9fcf1bf005"
              }
            ],
            "timeouts": null,
            "wait_for_default_service_account": false
          },
          "sensitive_attributes": [],
          "identity_schema_version": 1,
          "identity": {
            "api_version": "v1",
            "kind": "Namespace",
            "name": "observability"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiZGVsZXRlIjozMDAwMDAwMDAwMDB9fQ=="
        }
      ]
    },
    {
      "module": "module.security",
      "mode": "managed",
      "type": "helm_release",
      "name": "external_secrets",
      "provider": "provider[\"registry.terraform.io/hashicorp/helm\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 1,
          "attributes": {
            "atomic": false,
            "chart": "external-secrets",
            "cleanup_on_fail": false,
            "create_namespace": false,
            "dependency_update": false,
            "description": null,
            "devel": null,
            "disable_crd_hooks": false,
            "disable_openapi_validation": false,
            "disable_webhooks": false,
            "force_update": false,
            "id": "external-secrets",
            "keyring": null,
            "lint": false,
            "manifest": null,
            "max_history": 0,
            "metadata": [
              {
                "app_version": "v0.9.9",
                "chart": "external-secrets",
                "first_deployed": 1763613436,
                "last_deployed": 1763613436,
                "name": "external-secrets",
                "namespace": "security",
                "notes": "external-secrets has been deployed successfully!\n\nIn order to begin using ExternalSecrets, you will need to set up a SecretStore\nor ClusterSecretStore resource (for example, by creating a 'vault' SecretStore).\n\nMore information on the different types of SecretStores and how to configure them\ncan be found in our Github: https://github.com/external-secrets/external-secrets\n\n",
                "revision": 1,
                "values": "{\"installCRDs\":true,\"serviceAccount\":{\"create\":false,\"name\":\"external-secrets\"}}",
                "version": "0.9.9"
              }
            ],
            "name": "external-secrets",
            "namespace": "security",
            "pass_credentials": false,
            "postrender": [],
            "recreate_pods": false,
            "render_subchart_notes": true,
            "replace": false,
            "repository": "https://charts.external-secrets.io",
            "repository_ca_file": null,
            "repository_cert_file": null,
            "repository_key_file": null,
            "repository_password": null,
            "repository_username": null,
            "reset_values": false,
            "reuse_values": false,
            "set": [
              {
                "name": "installCRDs",
                "type": "",
                "value": "true"
              },
              {
                "name": "serviceAccount.create",
                "type": "",
                "value": "false"
              },
              {
                "name": "serviceAccount.name",
                "type": "",
                "value": "external-secrets"
              }
            ],
            "set_list": [],
            "set_sensitive": [],
            "skip_crds": false,
            "status": "deployed",
            "timeout": 300,
            "upgrade_install": null,
            "values": null,
            "verify": false,
            "version": "0.9.9",
            "wait": true,
            "wait_for_jobs": false
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "repository_password"
              }
            ]
          ],
          "identity_schema_version": 0,
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjEifQ==",
          "dependencies": [
            "module.security.kubernetes_cluster_role.external_secrets",
            "module.security.kubernetes_cluster_role_binding.external_secrets",
            "module.security.kubernetes_namespace.security",
            "module.security.kubernetes_service_account.external_secrets"
          ]
        }
      ]
    },
    {
      "module": "module.security",
      "mode": "managed",
      "type": "helm_release",
      "name": "istio",
      "provider": "provider[\"registry.terraform.io/hashicorp/helm\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 1,
          "attributes": {
            "atomic": false,
            "chart": "istiod",
            "cleanup_on_fail": false,
            "create_namespace": false,
            "dependency_update": false,
            "description": null,
            "devel": null,
            "disable_crd_hooks": false,
            "disable_openapi_validation": false,
            "disable_webhooks": false,
            "force_update": false,
            "id": "istio",
            "keyring": null,
            "lint": false,
            "manifest": null,
            "max_history": 0,
            "metadata": [
              {
                "app_version": "1.19.3",
                "chart": "istiod",
                "first_deployed": 1763613648,
                "last_deployed": 1763613648,
                "name": "istio",
                "namespace": "istio-system",
                "notes": "\"istiod\" successfully installed!\n\nTo learn more about the release, try:\n  $ helm status istio\n  $ helm get all istio\n\nNext steps:\n  * Deploy a Gateway: https://istio.io/latest/docs/setup/additional-setup/gateway/\n  * Try out our tasks to get started on common configurations:\n    * https://istio.io/latest/docs/tasks/traffic-management\n    * https://istio.io/latest/docs/tasks/security/\n    * https://istio.io/latest/docs/tasks/policy-enforcement/\n  * Review the list of actively supported releases, CVE publications and our hardening guide:\n    * https://istio.io/latest/docs/releases/supported-releases/\n    * https://istio.io/latest/news/security/\n    * https://istio.io/latest/docs/ops/best-practices/security/\n\nFor further documentation see https://istio.io website\n",
                "revision": 1,
                "values": "{\"global\":{\"istio_namespace\":\"istio-system\"},\"meshConfig\":{\"ingressNamespace\":\"istio-system\"},\"serviceAccount\":{\"create\":false,\"name\":\"istiod\"}}",
                "version": "1.19.3"
              }
            ],
            "name": "istio",
            "namespace": "istio-system",
            "pass_credentials": false,
            "postrender": [],
            "recreate_pods": false,
            "render_subchart_notes": true,
            "replace": false,
            "repository": "https://istio-release.storage.googleapis.com/charts",
            "repository_ca_file": null,
            "repository_cert_file": null,
            "repository_key_file": null,
            "repository_password": null,
            "repository_username": null,
            "reset_values": false,
            "reuse_values": false,
            "set": [],
            "set_list": [],
            "set_sensitive": [],
            "skip_crds": false,
            "status": "deployed",
            "timeout": 300,
            "upgrade_install": null,
            "values": [
              "\"global\":\n  \"istio_namespace\": \"istio-system\"\n\"meshConfig\":\n  \"ingressNamespace\": \"istio-system\"\n\"serviceAccount\":\n  \"create\": false\n  \"name\": \"istiod\"\n"
            ],
            "verify": false,
            "version": "1.19.3",
            "wait": true,
            "wait_for_jobs": false
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "repository_password"
              }
            ]
          ],
          "identity_schema_version": 0,
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjEifQ==",
          "dependencies": [
            "module.security.kubernetes_cluster_role.istio",
            "module.security.kubernetes_cluster_role_binding.istio",
            "module.security.kubernetes_namespace.istio_system",
            "module.security.kubernetes_service_account.istio"
          ]
        }
      ]
    },
    {
      "module": "module.security",
      "mode": "managed",
      "type": "kubernetes_cluster_role",
      "name": "external_secrets",
      "provider": "provider[\"registry.terraform.io/hashicorp/kubernetes\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "aggregation_rule": [],
            "id": "external-secrets",
            "metadata": [
              {
                "annotations": {},
                "generate_name": "",
                "generation": 0,
                "labels": {},
                "name": "external-secrets",
                "resource_version": "27092",
                "uid": "bc596f73-6b2b-4465-866c-86eae4194ade"
              }
            ],
            "rule": [
              {
                "api_groups": [
                  "secretstores.external-secrets.io"
                ],
                "non_resource_urls": [],
                "resource_names": [],
                "resources": [
                  "secretstores",
                  "clustersecretstores"
                ],
                "verbs": [
                  "get",
                  "list",
                  "watch"
                ]
              },
              {
                "api_groups": [
                  "external-secrets.io"
                ],
                "non_resource_urls": [],
                "resource_names": [],
                "resources": [
                  "externalsecrets",
                  "externalsecrets/status"
                ],
                "verbs": [
                  "get",
                  "list",
                  "watch"
                ]
              },
              {
                "api_groups": [
                  ""
                ],
                "non_resource_urls": [],
                "resource_names": [],
                "resources": [
                  "secrets"
                ],
                "verbs": [
                  "get",
                  "list",
                  "watch",
                  "create",
                  "update",
                  "patch",
                  "delete"
                ]
              },
              {
                "api_groups": [
                  ""
                ],
                "non_resource_urls": [],
                "resource_names": [],
                "resources": [
                  "serviceaccounts"
                ],
                "verbs": [
                  "get",
                  "list"
                ]
              },
              {
                "api_groups": [
                  "apiextensions.k8s.io"
                ],
                "non_resource_urls": [],
                "resource_names": [],
                "resources": [
                  "customresourcedefinitions"
                ],
                "verbs": [
                  "get",
                  "list",
                  "watch"
                ]
              }
            ]
          },
          "sensitive_attributes": [],
          "identity_schema_version": 1,
          "identity": {
            "api_version": "rbac.authorization.k8s.io/v1",
            "kind": "ClusterRole",
            "name": "external-secrets"
          },
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "module": "module.security",
      "mode": "managed",
      "type": "kubernetes_cluster_role",
      "name": "istio",
      "provider": "provider[\"registry.terraform.io/hashicorp/kubernetes\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "aggregation_rule": [],
            "id": "istio",
            "metadata": [
              {
                "annotations": {},
                "generate_name": "",
                "generation": 0,
                "labels": {},
                "name": "istio",
                "resource_version": "28743",
                "uid": "c6946ecb-27e1-4b74-9f8a-e8e4957b4765"
              }
            ],
            "rule": [
              {
                "api_groups": [
                  "admissionregistration.k8s.io"
                ],
                "non_resource_urls": [],
                "resource_names": [],
                "resources": [
                  "mutatingwebhookconfigurations",
                  "validatingwebhookconfigurations"
                ],
                "verbs": [
                  "get",
                  "list",
                  "watch",
                  "create",
                  "update",
                  "patch",
                  "delete"
                ]
              },
              {
                "api_groups": [
                  "apiextensions.k8s.io"
                ],
                "non_resource_urls": [],
                "resource_names": [],
                "resources": [
                  "customresourcedefinitions"
                ],
                "verbs": [
                  "get",
                  "list",
                  "watch",
                  "create",
                  "update",
                  "patch",
                  "delete"
                ]
              },
              {
                "api_groups": [
                  ""
                ],
                "non_resource_urls": [],
                "resource_names": [],
                "resources": [
                  "namespaces"
                ],
                "verbs": [
                  "get",
                  "list",
                  "watch"
                ]
              },
              {
                "api_groups": [
                  ""
                ],
                "non_resource_urls": [],
                "resource_names": [],
                "resources": [
                  "services",
                  "endpoints"
                ],
                "verbs": [
                  "get",
                  "list",
                  "watch"
                ]
              },
              {
                "api_groups": [
                  ""
                ],
                "non_resource_urls": [],
                "resource_names": [],
                "resources": [
                  "configmaps",
                  "secrets"
                ],
                "verbs": [
                  "get",
                  "list",
                  "watch",
                  "create",
                  "update",
                  "patch"
                ]
              },
              {
                "api_groups": [
                  "apps"
                ],
                "non_resource_urls": [],
                "resource_names": [],
                "resources": [
                  "deployments",
                  "statefulsets"
                ],
                "verbs": [
                  "get",
                  "list",
                  "watch"
                ]
              },
              {
                "api_groups": [
                  "networking.k8s.io"
                ],
                "non_resource_urls": [],
                "resource_names": [],
                "resources": [
                  "ingresses"
                ],
                "verbs": [
                  "get",
                  "list",
                  "watch"
                ]
              },
              {
                "api_groups": [
                  "networking.istio.io"
                ],
                "non_resource_urls": [],
                "resource_names": [],
                "resources": [
                  "virtualservices",
                  "destinationrules",
                  "gateways",
                  "serviceentries"
                ],
                "verbs": [
                  "get",
                  "list",
                  "watch",
                  "create",
                  "update",
                  "patch",
                  "delete"
                ]
              },
              {
                "api_groups": [
                  "security.istio.io"
                ],
                "non_resource_urls": [],
                "resource_names": [],
                "resources": [
                  "authorizationpolicies",
                  "peerauthentications",
                  "requestauthentications"
                ],
                "verbs": [
                  "get",
                  "list",
                  "watch",
                  "create",
                  "update",
                  "patch",
                  "delete"
                ]
              },
              {
                "api_groups": [
                  "telemetry.istio.io"
                ],
                "non_resource_urls": [],
                "resource_names": [],
                "resources": [
                  "telemetries"
                ],
                "verbs": [
                  "get",
                  "list",
                  "watch",
                  "create",
                  "update",
                  "patch",
                  "delete"
                ]
              },
              {
                "api_groups": [
                  ""
                ],
                "non_resource_urls": [],
                "resource_names": [],
                "resources": [
                  "pods"
                ],
                "verbs": [
                  "get",
                  "list",
                  "watch"
                ]
              },
              {
                "api_groups": [
                  ""
                ],
                "non_resource_urls": [],
                "resource_names": [],
                "resources": [
                  "pods/logs"
                ],
                "verbs": [
                  "get"
                ]
              },
              {
                "api_groups": [
                  "batch"
                ],
                "non_resource_urls": [],
                "resource_names": [],
                "resources": [
                  "jobs"
                ],
                "verbs": [
                  "get",
                  "list",
                  "watch"
                ]
              }
            ]
          },
          "sensitive_attributes": [],
          "identity_schema_version": 1,
          "identity": {
            "api_version": "rbac.authorization.k8s.io/v1",
            "kind": "ClusterRole",
            "name": "istio"
          },
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "module": "module.security",
      "mode": "managed",
      "type": "kubernetes_cluster_role_binding",
      "name": "external_secrets",
      "provider": "provider[\"registry.terraform.io/hashicorp/kubernetes\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "id": "external-secrets",
            "metadata": [
              {
                "annotations": {},
                "generate_name": "",
                "generation": 0,
                "labels": {},
                "name": "external-secrets",
                "resource_version": "27948",
                "uid": "31eb9123-1d7e-4ffc-b0cf-7920e59e4ae4"
              }
            ],
            "role_ref": [
              {
                "api_group": "rbac.authorization.k8s.io",
                "kind": "ClusterRole",
                "name": "external-secrets"
              }
            ],
            "subject": [
              {
                "api_group": "",
                "kind": "ServiceAccount",
                "name": "external-secrets",
                "namespace": "security"
              }
            ]
          },
          "sensitive_attributes": [],
          "identity_schema_version": 1,
          "identity": {
            "api_version": "rbac.authorization.k8s.io/v1",
            "kind": "ClusterRoleBinding",
            "name": "external-secrets"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "module.security.kubernetes_cluster_role.external_secrets",
            "module.security.kubernetes_namespace.security",
            "module.security.kubernetes_service_account.external_secrets"
          ]
        }
      ]
    },
    {
      "module": "module.security",
      "mode": "managed",
      "type": "kubernetes_cluster_role_binding",
      "name": "istio",
      "provider": "provider[\"registry.terraform.io/hashicorp/kubernetes\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "id": "istio",
            "metadata": [
              {
                "annotations": {},
                "generate_name": "",
                "generation": 0,
                "labels": {},
                "name": "istio",
                "resource_version": "28927",
                "uid": "1fbaaa97-4af5-4037-8305-dfa6f36624b1"
              }
            ],
            "role_ref": [
              {
                "api_group": "rbac.authorization.k8s.io",
                "kind": "ClusterRole",
                "name": "istio"
              }
            ],
            "subject": [
              {
                "api_group": "",
                "kind": "ServiceAccount",
                "name": "istiod",
                "namespace": "istio-system"
              }
            ]
          },
          "sensitive_attributes": [],
          "identity_schema_version": 1,
          "identity": {
            "api_version": "rbac.authorization.k8s.io/v1",
            "kind": "ClusterRoleBinding",
            "name": "istio"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "module.security.kubernetes_cluster_role.istio",
            "module.security.kubernetes_namespace.istio_system",
            "module.security.kubernetes_service_account.istio"
          ]
        }
      ]
    },
    {
      "module": "module.security",
      "mode": "managed",
      "type": "kubernetes_namespace",
      "name": "istio_system",
      "provider": "provider[\"registry.terraform.io/hashicorp/kubernetes\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "id": "istio-system",
            "metadata": [
              {
                "annotations": {},
                "generate_name": "",
                "generation": 0,
                "labels": {
                  "istio-injection": "enabled"
                },
                "name": "istio-system",
                "resource_version": "28923",
                "uid": "bda4a81c-22ca-499e-94c3-d74459105d33"
              }
            ],
            "timeouts": null,
            "wait_for_default_service_account": false
          },
          "sensitive_attributes": [],
          "identity_schema_version": 1,
          "identity": {
            "api_version": "v1",
            "kind": "Namespace",
            "name": "istio-system"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiZGVsZXRlIjozMDAwMDAwMDAwMDB9fQ=="
        }
      ]
    },
    {
      "module": "module.security",
      "mode": "managed",
      "type": "kubernetes_namespace",
      "name": "security",
      "provider": "provider[\"registry.terraform.io/hashicorp/kubernetes\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "security",
            "metadata": [
              {
                "annotations": {},
                "generate_name": "",
                "generation": 0,
                "labels": {
                  "app.kubernetes.io/component": "security"
                },
                "name": "security",
                "resource_version": "26817",
                "uid": "d7b562ba-91dc-42ce-be98-f195108a8d38"
              }
            ],
            "timeouts": null,
            "wait_for_default_service_account": false
          },
          "sensitive_attributes": [],
          "identity_schema_version": 1,
          "identity": {
            "api_version": "v1",
            "kind": "Namespace",
            "name": "security"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiZGVsZXRlIjozMDAwMDAwMDAwMDB9fQ=="
        }
      ]
    },
    {
      "module": "module.security",
      "mode": "managed",
      "type": "kubernetes_network_policy",
      "name": "allow_dns",
      "provider": "provider[\"registry.terraform.io/hashicorp/kubernetes\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "security/allow-dns",
            "metadata": [
              {
                "annotations": {},
                "generate_name": "",
                "generation": 1,
                "labels": {},
                "name": "allow-dns",
                "namespace": "security",
                "resource_version": "76271",
                "uid": "3fb5d15a-da0a-4794-ad04-1e1af9040d80"
              }
            ],
            "spec": [
              {
                "egress": [
                  {
                    "ports": [
                      {
                        "end_port": 0,
                        "port": "53",
                        "protocol": "UDP"
                      },
                      {
                        "end_port": 0,
                        "port": "53",
                        "protocol": "TCP"
                      }
                    ],
                    "to": [
                      {
                        "ip_block": [],
                        "namespace_selector": [
                          {
                            "match_expressions": [],
                            "match_labels": {
                              "name": "kube-system"
                            }
                          }
                        ],
                        "pod_selector": [
                          {
                            "match_expressions": [],
                            "match_labels": {
                              "k8s-app": "kube-dns"
                            }
                          }
                        ]
                      }
                    ]
                  }
                ],
                "ingress": [],
                "pod_selector": [
                  {
                    "match_expressions": [],
                    "match_labels": null
                  }
                ],
                "policy_types": [
                  "Egress"
                ]
              }
            ]
          },
          "sensitive_attributes": [],
          "identity_schema_version": 1,
          "identity": {
            "api_version": "networking.k8s.io/v1",
            "kind": "NetworkPolicy",
            "name": "allow-dns",
            "namespace": "security"
          },
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "module": "module.security",
      "mode": "managed",
      "type": "kubernetes_network_policy",
      "name": "allow_ingress_nginx",
      "provider": "provider[\"registry.terraform.io/hashicorp/kubernetes\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "ingress-nginx/allow-ingress-nginx",
            "metadata": [
              {
                "annotations": {},
                "generate_name": "",
                "generation": 1,
                "labels": {},
                "name": "allow-ingress-nginx",
                "namespace": "ingress-nginx",
                "resource_version": "76268",
                "uid": "c3d49672-9723-4f07-982e-abc1ee921bab"
              }
            ],
            "spec": [
              {
                "egress": [],
                "ingress": [
                  {
                    "from": [
                      {
                        "ip_block": [],
                        "namespace_selector": [
                          {
                            "match_expressions": [],
                            "match_labels": {
                              "name": "ingress-nginx"
                            }
                          }
                        ],
                        "pod_selector": []
                      }
                    ],
                    "ports": []
                  }
                ],
                "pod_selector": [
                  {
                    "match_expressions": [],
                    "match_labels": null
                  }
                ],
                "policy_types": [
                  "Ingress"
                ]
              }
            ]
          },
          "sensitive_attributes": [],
          "identity_schema_version": 1,
          "identity": {
            "api_version": "networking.k8s.io/v1",
            "kind": "NetworkPolicy",
            "name": "allow-ingress-nginx",
            "namespace": "ingress-nginx"
          },
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "module": "module.security",
      "mode": "managed",
      "type": "kubernetes_network_policy",
      "name": "app_allow_public",
      "provider": "provider[\"registry.terraform.io/hashicorp/kubernetes\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "application/app-allow-public",
            "metadata": [
              {
                "annotations": {},
                "generate_name": "",
                "generation": 1,
                "labels": {},
                "name": "app-allow-public",
                "namespace": "application",
                "resource_version": "76273",
                "uid": "350209c4-5b99-452c-9442-6365d224d27e"
              }
            ],
            "spec": [
              {
                "egress": [],
                "ingress": [
                  {
                    "from": [
                      {
                        "ip_block": [],
                        "namespace_selector": [
                          {
                            "match_expressions": [],
                            "match_labels": {
                              "name": "ingress-nginx"
                            }
                          }
                        ],
                        "pod_selector": []
                      }
                    ],
                    "ports": []
                  }
                ],
                "pod_selector": [
                  {
                    "match_expressions": [],
                    "match_labels": {
                      "app.kubernetes.io/component": "application"
                    }
                  }
                ],
                "policy_types": [
                  "Ingress"
                ]
              }
            ]
          },
          "sensitive_attributes": [],
          "identity_schema_version": 1,
          "identity": {
            "api_version": "networking.k8s.io/v1",
            "kind": "NetworkPolicy",
            "name": "app-allow-public",
            "namespace": "application"
          },
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "module": "module.security",
      "mode": "managed",
      "type": "kubernetes_network_policy",
      "name": "app_egress_all",
      "provider": "provider[\"registry.terraform.io/hashicorp/kubernetes\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "application/app-egress-all",
            "metadata": [
              {
                "annotations": {},
                "generate_name": "",
                "generation": 1,
                "labels": {},
                "name": "app-egress-all",
                "namespace": "application",
                "resource_version": "77140",
                "uid": "a2cf8951-8c74-4647-82bf-e49db2d5dbbf"
              }
            ],
            "spec": [
              {
                "egress": [
                  {
                    "ports": [],
                    "to": [
                      {
                        "ip_block": [
                          {
                            "cidr": "0.0.0.0/0",
                            "except": []
                          }
                        ],
                        "namespace_selector": [],
                        "pod_selector": []
                      }
                    ]
                  }
                ],
                "ingress": [],
                "pod_selector": [
                  {
                    "match_expressions": [],
                    "match_labels": null
                  }
                ],
                "policy_types": [
                  "Egress"
                ]
              }
            ]
          },
          "sensitive_attributes": [],
          "identity_schema_version": 1,
          "identity": {
            "api_version": "networking.k8s.io/v1",
            "kind": "NetworkPolicy",
            "name": "app-egress-all",
            "namespace": "application"
          },
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "module": "module.security",
      "mode": "managed",
      "type": "kubernetes_network_policy",
      "name": "database_private",
      "provider": "provider[\"registry.terraform.io/hashicorp/kubernetes\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "database/database-private",
            "metadata": [
              {
                "annotations": {},
                "generate_name": "",
                "generation": 1,
                "labels": {},
                "name": "database-private",
                "namespace": "database",
                "resource_version": "76266",
                "uid": "4a250388-456c-4f91-a8dd-27ef77b670e4"
              }
            ],
            "spec": [
              {
                "egress": [],
                "ingress": [
                  {
                    "from": [
                      {
                        "ip_block": [],
                        "namespace_selector": [
                          {
                            "match_expressions": [],
                            "match_labels": {
                              "name": "application"
                            }
                          }
                        ],
                        "pod_selector": []
                      }
                    ],
                    "ports": [
                      {
                        "end_port": 0,
                        "port": "5432",
                        "protocol": "TCP"
                      }
                    ]
                  }
                ],
                "pod_selector": [
                  {
                    "match_expressions": [],
                    "match_labels": null
                  }
                ],
                "policy_types": [
                  "Ingress"
                ]
              }
            ]
          },
          "sensitive_attributes": [],
          "identity_schema_version": 1,
          "identity": {
            "api_version": "networking.k8s.io/v1",
            "kind": "NetworkPolicy",
            "name": "database-private",
            "namespace": "database"
          },
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "module": "module.security",
      "mode": "managed",
      "type": "kubernetes_network_policy",
      "name": "default_deny_egress",
      "provider": "provider[\"registry.terraform.io/hashicorp/kubernetes\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "security/default-deny-egress",
            "metadata": [
              {
                "annotations": {},
                "generate_name": "",
                "generation": 1,
                "labels": {},
                "name": "default-deny-egress",
                "namespace": "security",
                "resource_version": "76269",
                "uid": "8147acfb-9852-4981-a339-f7a95cad4cb3"
              }
            ],
            "spec": [
              {
                "egress": [],
                "ingress": [],
                "pod_selector": [
                  {
                    "match_expressions": [],
                    "match_labels": null
                  }
                ],
                "policy_types": [
                  "Egress"
                ]
              }
            ]
          },
          "sensitive_attributes": [],
          "identity_schema_version": 1,
          "identity": {
            "api_version": "networking.k8s.io/v1",
            "kind": "NetworkPolicy",
            "name": "default-deny-egress",
            "namespace": "security"
          },
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "module": "module.security",
      "mode": "managed",
      "type": "kubernetes_network_policy",
      "name": "default_deny_ingress",
      "provider": "provider[\"registry.terraform.io/hashicorp/kubernetes\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "security/default-deny-ingress",
            "metadata": [
              {
                "annotations": {},
                "generate_name": "",
                "generation": 1,
                "labels": {},
                "name": "default-deny-ingress",
                "namespace": "security",
                "resource_version": "76264",
                "uid": "d0a13742-9a6a-4299-8e0a-f1ed2c326953"
              }
            ],
            "spec": [
              {
                "egress": [],
                "ingress": [],
                "pod_selector": [
                  {
                    "match_expressions": [],
                    "match_labels": null
                  }
                ],
                "policy_types": [
                  "Ingress"
                ]
              }
            ]
          },
          "sensitive_attributes": [],
          "identity_schema_version": 1,
          "identity": {
            "api_version": "networking.k8s.io/v1",
            "kind": "NetworkPolicy",
            "name": "default-deny-ingress",
            "namespace": "security"
          },
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "module": "module.security",
      "mode": "managed",
      "type": "kubernetes_network_policy",
      "name": "external_secrets_allow_all",
      "provider": "provider[\"registry.terraform.io/hashicorp/kubernetes\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "id": "security/external-secrets-allow-all",
            "metadata": [
              {
                "annotations": {},
                "generate_name": "",
                "generation": 1,
                "labels": {},
                "name": "external-secrets-allow-all",
                "namespace": "security",
                "resource_version": "77984",
                "uid": "a968a09e-7a2b-4e90-ab15-b12d59b8d4d6"
              }
            ],
            "spec": [
              {
                "egress": [],
                "ingress": [
                  {
                    "from": [],
                    "ports": [
                      {
                        "end_port": 0,
                        "port": "10250",
                        "protocol": "TCP"
                      }
                    ]
                  },
                  {
                    "from": [],
                    "ports": [
                      {
                        "end_port": 0,
                        "port": "8080",
                        "protocol": "TCP"
                      }
                    ]
                  },
                  {
                    "from": [],
                    "ports": [
                      {
                        "end_port": 0,
                        "port": "9443",
                        "protocol": "TCP"
                      }
                    ]
                  }
                ],
                "pod_selector": [
                  {
                    "match_expressions": [],
                    "match_labels": {
                      "app.kubernetes.io/name": "external-secrets"
                    }
                  }
                ],
                "policy_types": [
                  "Ingress"
                ]
              }
            ]
          },
          "sensitive_attributes": [],
          "identity_schema_version": 1,
          "identity": {
            "api_version": "networking.k8s.io/v1",
            "kind": "NetworkPolicy",
            "name": "external-secrets-allow-all",
            "namespace": "security"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "module.security.kubernetes_namespace.security"
          ]
        }
      ]
    },
    {
      "module": "module.security",
      "mode": "managed",
      "type": "kubernetes_network_policy",
      "name": "external_secrets_egress",
      "provider": "provider[\"registry.terraform.io/hashicorp/kubernetes\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "id": "security/external-secrets-egress",
            "metadata": [
              {
                "annotations": {},
                "generate_name": "",
                "generation": 1,
                "labels": {},
                "name": "external-secrets-egress",
                "namespace": "security",
                "resource_version": "77983",
                "uid": "e98edc4d-c8bf-4d8e-b22c-38a1b1942f50"
              }
            ],
            "spec": [
              {
                "egress": [
                  {
                    "ports": [
                      {
                        "end_port": 0,
                        "port": "53",
                        "protocol": "UDP"
                      }
                    ],
                    "to": [
                      {
                        "ip_block": [],
                        "namespace_selector": [
                          {
                            "match_expressions": [],
                            "match_labels": {
                              "name": "kube-system"
                            }
                          }
                        ],
                        "pod_selector": []
                      }
                    ]
                  },
                  {
                    "ports": [
                      {
                        "end_port": 0,
                        "port": "443",
                        "protocol": "TCP"
                      }
                    ],
                    "to": [
                      {
                        "ip_block": [
                          {
                            "cidr": "0.0.0.0/0",
                            "except": [
                              "169.254.169.254/32"
                            ]
                          }
                        ],
                        "namespace_selector": [],
                        "pod_selector": []
                      }
                    ]
                  }
                ],
                "ingress": [],
                "pod_selector": [
                  {
                    "match_expressions": [],
                    "match_labels": {
                      "app.kubernetes.io/name": "external-secrets"
                    }
                  }
                ],
                "policy_types": [
                  "Egress"
                ]
              }
            ]
          },
          "sensitive_attributes": [],
          "identity_schema_version": 1,
          "identity": {
            "api_version": "networking.k8s.io/v1",
            "kind": "NetworkPolicy",
            "name": "external-secrets-egress",
            "namespace": "security"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "module.security.kubernetes_namespace.security"
          ]
        }
      ]
    },
    {
      "module": "module.security",
      "mode": "managed",
      "type": "kubernetes_network_policy",
      "name": "ingress_nginx_to_app",
      "provider": "provider[\"registry.terraform.io/hashicorp/kubernetes\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "ingress-nginx/ingress-nginx-to-app",
            "metadata": [
              {
                "annotations": {},
                "generate_name": "",
                "generation": 1,
                "labels": {},
                "name": "ingress-nginx-to-app",
                "namespace": "ingress-nginx",
                "resource_version": "77141",
                "uid": "d150576c-1d6a-465b-82d5-8df89c12fda1"
              }
            ],
            "spec": [
              {
                "egress": [
                  {
                    "ports": [],
                    "to": [
                      {
                        "ip_block": [],
                        "namespace_selector": [
                          {
                            "match_expressions": [],
                            "match_labels": {
                              "name": "application"
                            }
                          }
                        ],
                        "pod_selector": []
                      }
                    ]
                  },
                  {
                    "ports": [
                      {
                        "end_port": 0,
                        "port": "53",
                        "protocol": "UDP"
                      }
                    ],
                    "to": [
                      {
                        "ip_block": [],
                        "namespace_selector": [
                          {
                            "match_expressions": [],
                            "match_labels": {
                              "name": "kube-system"
                            }
                          }
                        ],
                        "pod_selector": []
                      }
                    ]
                  },
                  {
                    "ports": [
                      {
                        "end_port": 0,
                        "port": "443",
                        "protocol": "TCP"
                      }
                    ],
                    "to": [
                      {
                        "ip_block": [],
                        "namespace_selector": [
                          {
                            "match_expressions": [],
                            "match_labels": {
                              "name": "kube-system"
                            }
                          }
                        ],
                        "pod_selector": []
                      }
                    ]
                  }
                ],
                "ingress": [
                  {
                    "from": [
                      {
                        "ip_block": [],
                        "namespace_selector": [
                          {
                            "match_expressions": [],
                            "match_labels": {
                              "name": "ingress-nginx"
                            }
                          }
                        ],
                        "pod_selector": []
                      }
                    ],
                    "ports": []
                  }
                ],
                "pod_selector": [
                  {
                    "match_expressions": [],
                    "match_labels": null
                  }
                ],
                "policy_types": [
                  "Ingress",
                  "Egress"
                ]
              }
            ]
          },
          "sensitive_attributes": [],
          "identity_schema_version": 1,
          "identity": {
            "api_version": "networking.k8s.io/v1",
            "kind": "NetworkPolicy",
            "name": "ingress-nginx-to-app",
            "namespace": "ingress-nginx"
          },
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "module": "module.security",
      "mode": "managed",
      "type": "kubernetes_network_policy",
      "name": "istio_private",
      "provider": "provider[\"registry.terraform.io/hashicorp/kubernetes\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "id": "istio-system/istio-private",
            "metadata": [
              {
                "annotations": {},
                "generate_name": "",
                "generation": 1,
                "labels": {},
                "name": "istio-private",
                "namespace": "istio-system",
                "resource_version": "76270",
                "uid": "c13f7b89-9e56-453a-95dc-8287955c48f8"
              }
            ],
            "spec": [
              {
                "egress": [
                  {
                    "ports": [
                      {
                        "end_port": 0,
                        "port": "53",
                        "protocol": "UDP"
                      }
                    ],
                    "to": [
                      {
                        "ip_block": [],
                        "namespace_selector": [
                          {
                            "match_expressions": [],
                            "match_labels": {
                              "name": "kube-system"
                            }
                          }
                        ],
                        "pod_selector": []
                      }
                    ]
                  },
                  {
                    "ports": [],
                    "to": [
                      {
                        "ip_block": [],
                        "namespace_selector": [
                          {
                            "match_expressions": [],
                            "match_labels": {
                              "name": "istio-system"
                            }
                          }
                        ],
                        "pod_selector": []
                      }
                    ]
                  },
                  {
                    "ports": [],
                    "to": [
                      {
                        "ip_block": [],
                        "namespace_selector": [],
                        "pod_selector": [
                          {
                            "match_expressions": [],
                            "match_labels": {
                              "istio-injection": "enabled"
                            }
                          }
                        ]
                      }
                    ]
                  }
                ],
                "ingress": [
                  {
                    "from": [
                      {
                        "ip_block": [],
                        "namespace_selector": [
                          {
                            "match_expressions": [],
                            "match_labels": {
                              "name": "istio-system"
                            }
                          }
                        ],
                        "pod_selector": []
                      }
                    ],
                    "ports": []
                  },
                  {
                    "from": [
                      {
                        "ip_block": [],
                        "namespace_selector": [],
                        "pod_selector": [
                          {
                            "match_expressions": [],
                            "match_labels": {
                              "istio-injection": "enabled"
                            }
                          }
                        ]
                      }
                    ],
                    "ports": []
                  }
                ],
                "pod_selector": [
                  {
                    "match_expressions": [],
                    "match_labels": null
                  }
                ],
                "policy_types": [
                  "Ingress",
                  "Egress"
                ]
              }
            ]
          },
          "sensitive_attributes": [],
          "identity_schema_version": 1,
          "identity": {
            "api_version": "networking.k8s.io/v1",
            "kind": "NetworkPolicy",
            "name": "istio-private",
            "namespace": "istio-system"
          },
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "module": "module.security",
      "mode": "managed",
      "type": "kubernetes_network_policy",
      "name": "monitoring_private",
      "provider": "provider[\"registry.terraform.io/hashicorp/kubernetes\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "id": "monitoring/monitoring-private",
            "metadata": [
              {
                "annotations": {},
                "generate_name": "",
                "generation": 1,
                "labels": {},
                "name": "monitoring-private",
                "namespace": "monitoring",
                "resource_version": "76267",
                "uid": "fcf27036-cdb7-4b5d-a0d9-4a71d4e9682f"
              }
            ],
            "spec": [
              {
                "egress": [],
                "ingress": [
                  {
                    "from": [
                      {
                        "ip_block": [],
                        "namespace_selector": [
                          {
                            "match_expressions": [],
                            "match_labels": {
                              "name": "monitoring"
                            }
                          }
                        ],
                        "pod_selector": []
                      }
                    ],
                    "ports": []
                  }
                ],
                "pod_selector": [
                  {
                    "match_expressions": [],
                    "match_labels": null
                  }
                ],
                "policy_types": [
                  "Ingress"
                ]
              }
            ]
          },
          "sensitive_attributes": [],
          "identity_schema_version": 1,
          "identity": {
            "api_version": "networking.k8s.io/v1",
            "kind": "NetworkPolicy",
            "name": "monitoring-private",
            "namespace": "monitoring"
          },
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "module": "module.security",
      "mode": "managed",
      "type": "kubernetes_network_policy",
      "name": "security_internal_only",
      "provider": "provider[\"registry.terraform.io/hashicorp/kubernetes\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "security/security-internal-only",
            "metadata": [
              {
                "annotations": {},
                "generate_name": "",
                "generation": 1,
                "labels": {},
                "name": "security-internal-only",
                "namespace": "security",
                "resource_version": "76272",
                "uid": "410b8c05-4eb3-49ff-acab-94107393be9f"
              }
            ],
            "spec": [
              {
                "egress": [],
                "ingress": [
                  {
                    "from": [
                      {
                        "ip_block": [],
                        "namespace_selector": [
                          {
                            "match_expressions": [],
                            "match_labels": {
                              "name": "security"
                            }
                          }
                        ],
                        "pod_selector": []
                      }
                    ],
                    "ports": []
                  }
                ],
                "pod_selector": [
                  {
                    "match_expressions": [],
                    "match_labels": null
                  }
                ],
                "policy_types": [
                  "Ingress"
                ]
              }
            ]
          },
          "sensitive_attributes": [],
          "identity_schema_version": 1,
          "identity": {
            "api_version": "networking.k8s.io/v1",
            "kind": "NetworkPolicy",
            "name": "security-internal-only",
            "namespace": "security"
          },
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "module": "module.security",
      "mode": "managed",
      "type": "kubernetes_service_account",
      "name": "external_secrets",
      "provider": "provider[\"registry.terraform.io/hashicorp/kubernetes\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "automount_service_account_token": true,
            "default_secret_name": "",
            "id": "security/external-secrets",
            "image_pull_secret": [],
            "metadata": [
              {
                "annotations": {},
                "generate_name": "",
                "generation": 0,
                "labels": {},
                "name": "external-secrets",
                "namespace": "security",
                "resource_version": "27947",
                "uid": "7bb2ca40-271a-4b72-a13c-e62ac209d9c5"
              }
            ],
            "secret": [],
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 1,
          "identity": {
            "api_version": "v1",
            "kind": "ServiceAccount",
            "name": "external-secrets",
            "namespace": "security"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMH19",
          "dependencies": [
            "module.security.kubernetes_namespace.security"
          ]
        }
      ]
    },
    {
      "module": "module.security",
      "mode": "managed",
      "type": "kubernetes_service_account",
      "name": "istio",
      "provider": "provider[\"registry.terraform.io/hashicorp/kubernetes\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "automount_service_account_token": true,
            "default_secret_name": "",
            "id": "istio-system/istiod",
            "image_pull_secret": [],
            "metadata": [
              {
                "annotations": {
                  "meta.helm.sh/release-name": "istio",
                  "meta.helm.sh/release-namespace": "istio-system"
                },
                "generate_name": "",
                "generation": 0,
                "labels": {
                  "app.kubernetes.io/managed-by": "Helm"
                },
                "name": "istiod",
                "namespace": "istio-system",
                "resource_version": "31962",
                "uid": "d1c0c9b2-069c-44d9-9367-756c9a956caa"
              }
            ],
            "secret": [],
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 1,
          "identity": {
            "api_version": "v1",
            "kind": "ServiceAccount",
            "name": "istiod",
            "namespace": "istio-system"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMH19",
          "dependencies": [
            "module.security.kubernetes_namespace.istio_system"
          ]
        }
      ]
    }
  ],
  "check_results": null
}
